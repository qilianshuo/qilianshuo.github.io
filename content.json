{"meta":{"title":"Mirage's Blog","subtitle":"éšå¿ƒè®°å½•ï½","description":"è¶Šè¿‡å±±ä¸˜ï¼Œæ‰å‘ç°æ— äººç­‰å€™","author":"Mirage","url":"http://example.com","root":"/"},"pages":[{"title":"å‹æƒ…é“¾æ¥","date":"2022-02-04T05:22:48.000Z","updated":"2022-02-04T05:23:23.314Z","comments":true,"path":"link/index.html","permalink":"http://example.com/link/index.html","excerpt":"","text":""},{"title":"åˆ†ç±»","date":"2022-02-04T05:21:49.000Z","updated":"2022-02-04T05:22:24.616Z","comments":true,"path":"categories/index.html","permalink":"http://example.com/categories/index.html","excerpt":"","text":""},{"title":"æ ‡ç­¾","date":"2022-02-04T05:20:53.000Z","updated":"2022-02-04T05:21:37.922Z","comments":true,"path":"tags/index.html","permalink":"http://example.com/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"Flaskè·¨åŸŸæ–¹æ¡ˆ","slug":"Flaskè·¨åŸŸæ–¹æ¡ˆ","date":"2022-02-08T08:28:55.000Z","updated":"2022-02-08T08:49:11.589Z","comments":true,"path":"2022/02/08/Flaskè·¨åŸŸæ–¹æ¡ˆ/","link":"","permalink":"http://example.com/2022/02/08/Flask%E8%B7%A8%E5%9F%9F%E6%96%B9%E6%A1%88/","excerpt":"å¾ˆå®¹æ˜“æœç´¢åˆ°å¤šç§è§£å†³æ–¹æ³•ï¼Œæš‚å…ˆè®°å½•å‡ ç§æœ€ç®€å•çš„ã€‚ ä¸ºresponseæ·»åŠ headers ä½¿ç”¨make_responseå…ˆåˆ›å»ºå“åº”ï¼Œå†ç»™å“åº”æ·»åŠ headers 12345@app.route(&#x27;/&#x27;)def index(): rsp = make_response(&#x27;Hello world.&#x27;) rsp.headers[&#x27;Access-Control-Allow-Origin&#x27;] = &#x27;*&#x27; return rsp returnå“åº”ä¸‰å…ƒç»„(response, status, headers)","text":"å¾ˆå®¹æ˜“æœç´¢åˆ°å¤šç§è§£å†³æ–¹æ³•ï¼Œæš‚å…ˆè®°å½•å‡ ç§æœ€ç®€å•çš„ã€‚ ä¸ºresponseæ·»åŠ headers ä½¿ç”¨make_responseå…ˆåˆ›å»ºå“åº”ï¼Œå†ç»™å“åº”æ·»åŠ headers 12345@app.route(&#x27;/&#x27;)def index(): rsp = make_response(&#x27;Hello world.&#x27;) rsp.headers[&#x27;Access-Control-Allow-Origin&#x27;] = &#x27;*&#x27; return rsp returnå“åº”ä¸‰å…ƒç»„(response, status, headers) 123@app.route(&#x27;/&#x27;)def index(): return &#x27;Hello world&#x27;, 200, &#123;&#x27;Access-Control-Allow-Origin&#x27;:&#x27;*&#x27;&#125; æ³¨å†Œè¯·æ±‚å›è°ƒæ·»åŠ headerså½“å¤§é‡è·¯ç”±éƒ½éœ€è¦å…è®¸è·¨åŸŸæ—¶ï¼Œä¸ºæ¯ä¸ªè·¯ç”±é€ä¸ªæ·»åŠ å˜å¾—éå¸¸éº»çƒ¦ä¸”ä¸æ˜“ç»´æŠ¤ã€‚è¿™æ—¶å¯ä»¥ä½¿ç”¨Flaskæä¾›çš„å›è°ƒæ¥å£ä¸ºè¯·æ±‚æ³¨å†Œå›è°ƒï¼Œè‡ªåŠ¨æ·»åŠ Access-Control-Allow-Originçš„headerã€‚ 123456@app.after_requestdef headers_hook(response): if request.method == &#x27;GET&#x27;: response.headers[&#x27;Access-Control-Allow-Origin&#x27;] = &#x27;*&#x27; return response# åŒæ ·å¯ä»¥å°†appæ›¿æ¢ä¸ºè“å›¾åœ¨å±€éƒ¨å¼€å¯è·¨åŸŸ","categories":[],"tags":[{"name":"Flask","slug":"Flask","permalink":"http://example.com/tags/Flask/"},{"name":"è·¨åŸŸ","slug":"è·¨åŸŸ","permalink":"http://example.com/tags/%E8%B7%A8%E5%9F%9F/"}]},{"title":"Pythonä½¿ç”¨redis","slug":"Pythonä½¿ç”¨redis","date":"2022-02-06T08:42:53.000Z","updated":"2022-02-06T11:40:18.843Z","comments":true,"path":"2022/02/06/Pythonä½¿ç”¨redis/","link":"","permalink":"http://example.com/2022/02/06/Python%E4%BD%BF%E7%94%A8redis/","excerpt":"å®‰è£…Redisæ¨¡å—Pythonæ— å†…ç½®rediså·¥å…·ï¼Œéœ€å…ˆå®‰è£…redisæ¨¡å—ï¼š 1pip3 install redis è¿æ¥æ•°æ®åº“12345import redisr = redis.StrictRedis(host=&#x27;localhost&#x27;, port=6379, decode_responses=True)r.set(&#x27;name&#x27;, &#x27;Lihua&#x27;)print(r[&#x27;name&#x27;])print(r.get(&#x27;name&#x27;)","text":"å®‰è£…Redisæ¨¡å—Pythonæ— å†…ç½®rediså·¥å…·ï¼Œéœ€å…ˆå®‰è£…redisæ¨¡å—ï¼š 1pip3 install redis è¿æ¥æ•°æ®åº“12345import redisr = redis.StrictRedis(host=&#x27;localhost&#x27;, port=6379, decode_responses=True)r.set(&#x27;name&#x27;, &#x27;Lihua&#x27;)print(r[&#x27;name&#x27;])print(r.get(&#x27;name&#x27;) redis æä¾›ä¸¤ä¸ªç±» Redis å’Œ StrictRedis, StrictRedis ç”¨äºå®ç°å¤§éƒ¨åˆ†å®˜æ–¹çš„å‘½ä»¤ï¼ŒRedis æ˜¯ StrictRedis çš„å­ç±»ï¼Œç”¨äºå‘åå…¼ç”¨æ—§ç‰ˆæœ¬ã€‚ redis å–å‡ºçš„ç»“æœé»˜è®¤æ˜¯å­—èŠ‚ï¼Œå¯ä»¥è®¾å®š decode_responses&#x3D;True æ”¹æˆå­—ç¬¦ä¸²ã€‚ è¿æ¥æ± redis-py ä½¿ç”¨ connection pool æ¥ç®¡ç†å¯¹ä¸€ä¸ª redis server çš„æ‰€æœ‰è¿æ¥ï¼Œé¿å…æ¯æ¬¡å»ºç«‹ã€é‡Šæ”¾è¿æ¥çš„å¼€é”€ã€‚ é»˜è®¤ï¼Œæ¯ä¸ªRediså®ä¾‹éƒ½ä¼šç»´æŠ¤ä¸€ä¸ªè‡ªå·±çš„è¿æ¥æ± ã€‚å¯ä»¥ç›´æ¥å»ºç«‹ä¸€ä¸ªè¿æ¥æ± ï¼Œç„¶åä½œä¸ºå‚æ•° Redisï¼Œè¿™æ ·å°±å¯ä»¥å®ç°å¤šä¸ª Redis å®ä¾‹å…±äº«ä¸€ä¸ªè¿æ¥æ± ã€‚ 123import redispool = redis.ConnectionPool(host=&#x27;localhost&#x27;, port=6379, decode_responses=True)r = redis.Redis(connection_pool=pool)","categories":[],"tags":[{"name":"redis","slug":"redis","permalink":"http://example.com/tags/redis/"},{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","permalink":"http://example.com/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"},{"name":"Python","slug":"Python","permalink":"http://example.com/tags/Python/"}]},{"title":"Macå®‰è£…Reidså¹¶é…ç½®","slug":"Macå®‰è£…Reidså¹¶é…ç½®","date":"2022-02-04T13:43:24.000Z","updated":"2022-02-05T02:00:42.792Z","comments":true,"path":"2022/02/04/Macå®‰è£…Reidså¹¶é…ç½®/","link":"","permalink":"http://example.com/2022/02/04/Mac%E5%AE%89%E8%A3%85Reids%E5%B9%B6%E9%85%8D%E7%BD%AE/","excerpt":"å®‰è£… ä½¿ç”¨Homebrewå®‰è£… å®‰è£…å‘½ä»¤ï¼š 1brew install redis 12345678910==&gt; Downloading https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles/redis-6.2.6.monte######################################################################## 100.0%==&gt; Pouring redis-6.2.6.monterey.bottle.tar.gz==&gt; CaveatsTo restart redis after an upgrade: brew services restart redisOr, if you don&#x27;t want/need a background service you can just run: /usr/local/opt/redis/bin/redis-server /usr/local/etc/redis.conf==&gt; SummaryğŸº /usr/local/Cellar/redis/6.2.6: 14 files, 2.0MB","text":"å®‰è£… ä½¿ç”¨Homebrewå®‰è£… å®‰è£…å‘½ä»¤ï¼š 1brew install redis 12345678910==&gt; Downloading https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles/redis-6.2.6.monte######################################################################## 100.0%==&gt; Pouring redis-6.2.6.monterey.bottle.tar.gz==&gt; CaveatsTo restart redis after an upgrade: brew services restart redisOr, if you don&#x27;t want/need a background service you can just run: /usr/local/opt/redis/bin/redis-server /usr/local/etc/redis.conf==&gt; SummaryğŸº /usr/local/Cellar/redis/6.2.6: 14 files, 2.0MB ä¸‹è½½binæ–‡ä»¶å¹¶é…ç½®ç¯å¢ƒå˜é‡ æ—¥åæ›´æ–°(&#x2F;&#x2F;&#x2F;â–½&#x2F;&#x2F;&#x2F;) é…ç½®é…ç½®æ–‡ä»¶è·¯å¾„ï¼š /usr/local/opt/redis/bin/redis-serverã€ /usr/local/etc/redis.conf é…ç½®é¡¹ è¯´æ˜ port 6379 æŒ‡å®š Redis ç›‘å¬ç«¯å£ï¼Œé»˜è®¤ç«¯å£ä¸º 6379 bind 127.0.0.1 ç»‘å®šçš„ä¸»æœºåœ°å€ databases 16 è®¾ç½®æ•°æ®åº“çš„æ•°é‡ï¼Œé»˜è®¤æ•°æ®åº“ä¸º0ï¼Œå¯ä»¥ä½¿ç”¨SELECT å‘½ä»¤åœ¨è¿æ¥ä¸ŠæŒ‡å®šæ•°æ®åº“id save &lt;seconds&gt; &lt;changes&gt; æŒ‡å®šåœ¨å¤šé•¿æ—¶é—´å†…ï¼Œæœ‰å¤šå°‘æ¬¡æ›´æ–°æ“ä½œï¼Œå°±å°†æ•°æ®åŒæ­¥åˆ°æ•°æ®æ–‡ä»¶ï¼Œå¯ä»¥å¤šä¸ªæ¡ä»¶é…åˆ rdbcompression yes æŒ‡å®šå­˜å‚¨è‡³æœ¬åœ°æ•°æ®åº“æ—¶æ˜¯å¦å‹ç¼©æ•°æ®ï¼Œé»˜è®¤ä¸º yesï¼ŒRedis é‡‡ç”¨ LZF å‹ç¼©ï¼Œå¦‚æœä¸ºäº†èŠ‚çœ CPU æ—¶é—´ï¼Œå¯ä»¥å…³é—­è¯¥é€‰é¡¹ï¼Œä½†ä¼šå¯¼è‡´æ•°æ®åº“æ–‡ä»¶å˜çš„å·¨å¤§ dbfilename dump.rdb æŒ‡å®šæœ¬åœ°æ•°æ®åº“æ–‡ä»¶åï¼Œé»˜è®¤å€¼ä¸º dump.rdb dir ./ æŒ‡å®šæœ¬åœ°æ•°æ®åº“å­˜æ”¾ç›®å½• include /path/to/local.conf æŒ‡å®šåŒ…å«å…¶å®ƒçš„é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥åœ¨åŒä¸€ä¸»æœºä¸Šå¤šä¸ªRediså®ä¾‹ä¹‹é—´ä½¿ç”¨åŒä¸€ä»½é…ç½®æ–‡ä»¶ï¼Œè€ŒåŒæ—¶å„ä¸ªå®ä¾‹åˆæ‹¥æœ‰è‡ªå·±çš„ç‰¹å®šé…ç½®æ–‡ä»¶ ç»´æŠ¤ æŸ¥çœ‹redisè¿›ç¨‹ 1ps axu | grep redis å¯åŠ¨ã€å…³é—­redisæœåŠ¡ 123brew services start redisbrew services stop redisbrew services restart redis â€¦â€¦","categories":[],"tags":[{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","permalink":"http://example.com/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"},{"name":"Redis","slug":"Redis","permalink":"http://example.com/tags/Redis/"}]},{"title":"GitHubåˆ é™¤æ‰€æœ‰æäº¤å†å²","slug":"GitHubåˆ é™¤æ‰€æœ‰æäº¤å†å²","date":"2022-02-04T04:02:24.000Z","updated":"2022-02-04T08:49:48.864Z","comments":true,"path":"2022/02/04/GitHubåˆ é™¤æ‰€æœ‰æäº¤å†å²/","link":"","permalink":"http://example.com/2022/02/04/GitHub%E5%88%A0%E9%99%A4%E6%89%80%E6%9C%89%E6%8F%90%E4%BA%A4%E5%8E%86%E5%8F%B2/","excerpt":"æ•ˆæœå°†ä»£ç ä¿æŒåœ¨å½“å‰çŠ¶æ€ï¼Œæ¸…ç©ºcommit historyã€‚ æ€è·¯åˆ›å»ºæ–°åˆ†æ”¯ -&gt; å°†æ–‡ä»¶æ·»åŠ åˆ°æ–°åˆ†æ”¯ -&gt; æäº¤æ›´æ”¹ -&gt; åˆ é™¤æ—§masteråˆ†æ”¯ -&gt; é‡å‘½åæ–°åˆ†æ”¯ -&gt; å¼ºåˆ¶æ›´æ–°ä»“åº“ æ­¥éª¤","text":"æ•ˆæœå°†ä»£ç ä¿æŒåœ¨å½“å‰çŠ¶æ€ï¼Œæ¸…ç©ºcommit historyã€‚ æ€è·¯åˆ›å»ºæ–°åˆ†æ”¯ -&gt; å°†æ–‡ä»¶æ·»åŠ åˆ°æ–°åˆ†æ”¯ -&gt; æäº¤æ›´æ”¹ -&gt; åˆ é™¤æ—§masteråˆ†æ”¯ -&gt; é‡å‘½åæ–°åˆ†æ”¯ -&gt; å¼ºåˆ¶æ›´æ–°ä»“åº“ æ­¥éª¤ åˆ›å»ºæ–°åˆ†æ”¯ 1git checkout --orphan latest_branch å°†æ–‡ä»¶æ·»åŠ åˆ°æ–°åˆ†æ”¯ 1git add -A æäº¤æ›´æ”¹ 1git commit -am &quot;Init new branch&quot; åˆ é™¤æ—§masteråˆ†æ”¯ 1git branch -D master é‡å‘½åæ–°åˆ†æ”¯ 1git branch -m master å¼ºåˆ¶æ›´æ–°ä»“åº“ 1git push -f origin master","categories":[],"tags":[{"name":"git","slug":"git","permalink":"http://example.com/tags/git/"}]},{"title":"Hello World","slug":"hello-world","date":"2022-02-04T03:29:52.358Z","updated":"2022-02-04T03:29:52.358Z","comments":true,"path":"2022/02/04/hello-world/","link":"","permalink":"http://example.com/2022/02/04/hello-world/","excerpt":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]}],"categories":[],"tags":[{"name":"Flask","slug":"Flask","permalink":"http://example.com/tags/Flask/"},{"name":"è·¨åŸŸ","slug":"è·¨åŸŸ","permalink":"http://example.com/tags/%E8%B7%A8%E5%9F%9F/"},{"name":"redis","slug":"redis","permalink":"http://example.com/tags/redis/"},{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","permalink":"http://example.com/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"},{"name":"Python","slug":"Python","permalink":"http://example.com/tags/Python/"},{"name":"Redis","slug":"Redis","permalink":"http://example.com/tags/Redis/"},{"name":"git","slug":"git","permalink":"http://example.com/tags/git/"}]}